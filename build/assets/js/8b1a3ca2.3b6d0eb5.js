"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[37912],{74519:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var i=n(74848),s=n(28453);const r={description:"Move Dai and xDai using a wallet rather than through the UI. This method is supported by all wallets that support ERC20 transfers.",keywords:["xdai bridge","gnosis bridge"]},a="Without UI",o={id:"bridges/tutorials/using-xdai-bridge/no-ui",title:"Without UI",description:"Move Dai and xDai using a wallet rather than through the UI. This method is supported by all wallets that support ERC20 transfers.",source:"@site/docs/bridges/tutorials/using-xdai-bridge/no-ui.md",sourceDirName:"bridges/tutorials/using-xdai-bridge",slug:"/bridges/tutorials/using-xdai-bridge/no-ui",permalink:"/bridges/tutorials/using-xdai-bridge/no-ui",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/bridges/tutorials/using-xdai-bridge/no-ui.md",tags:[],version:"current",lastUpdatedBy:"zengzengzenghuy",lastUpdatedAt:1690538497,formattedLastUpdatedAt:"Jul 28, 2023",frontMatter:{description:"Move Dai and xDai using a wallet rather than through the UI. This method is supported by all wallets that support ERC20 transfers.",keywords:["xdai bridge","gnosis bridge"]},sidebar:"bridges",previous:{title:"Custom RPC",permalink:"/bridges/tutorials/using-xdai-bridge/custom-rpc"},next:{title:"Troubleshoot Bridge Issues",permalink:"/bridges/tutorials/using-xdai-bridge/troubleshooting"}},h={},d=[{value:"Transfer Dai from the Ethereum Mainnet to the Gnosis Chain",id:"transfer-dai-from-the-ethereum-mainnet-to-the-gnosis-chain",level:2},{value:"Transfer xDai to DAI from the Gnosis chain to the Ethereum Mainnet",id:"transfer-xdai-to-dai-from-the-gnosis-chain-to-the-ethereum-mainnet",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"without-ui",children:"Without UI"}),"\n",(0,i.jsxs)(t.p,{children:["It is possible to move Dai and xDai using a wallet rather than through the UI. This method is supported by all wallets that support ERC20 transfers (e.g. ",(0,i.jsx)(t.a,{href:"http://myetherwallet.com/",children:"MyEtherWallet.com"}),", ",(0,i.jsx)(t.a,{href:"https://trustwallet.com/",children:"TrustWallet"}),", ",(0,i.jsx)(t.a,{href:"https://metamask.io/",children:"MetaMask"}),"). Here we use NiftyWallet."]}),"\n",(0,i.jsx)(t.p,{children:"Token address for reference:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Dai: ",(0,i.jsx)(t.a,{href:"https://etherscan.io/token/0x6b175474e89094c44da98b954eedeac495271d0f",children:"0x6b175474e89094c44da98b954eedeac495271d0f"})]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"TokenBridge addresses for reference (where you send the asset to transfer)"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Mainnet TokenBridge (Dai -> xDai): ",(0,i.jsx)(t.code,{children:"0x4aa42145Aa6Ebf72e164C9bBC74fbD3788045016"})]}),"\n",(0,i.jsxs)(t.li,{children:["xDai TokenBridge (xDai -> Dai): ",(0,i.jsx)(t.code,{children:"0x7301CFA0e1756B71869E93d4e4Dca5c7d0eb0AA6"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"transfer-dai-from-the-ethereum-mainnet-to-the-gnosis-chain",children:"Transfer Dai from the Ethereum Mainnet to the Gnosis Chain"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Connect to the Ethereum Mainnet and locate DAI in your webwallet."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Enter in the following:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["TokenBridge Address as the recipient: ",(0,i.jsx)(t.code,{children:"0x4aa42145Aa6Ebf72e164C9bBC74fbD3788045016"})]}),"\n",(0,i.jsx)(t.li,{children:"Amount to Send"}),"\n",(0,i.jsx)(t.li,{children:"Submit the transaction"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Wait for the relay confirmation from the bridge validators. This may take several minutes."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Set your wallet to the Gnosis chain and check your balance."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"transfer-xdai-to-dai-from-the-gnosis-chain-to-the-ethereum-mainnet",children:"Transfer xDai to DAI from the Gnosis chain to the Ethereum Mainnet"}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"The following demonstrates interaction with contract methods using BlockScout and Etherscan"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Send xDai coins to the Token Bridge address ",(0,i.jsx)(t.code,{children:"0x7301CFA0e1756B71869E93d4e4Dca5c7d0eb0AA6"})," on the Gnosis \u0421hain using any wallet software."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Wait for the transaction confirmation on the Gnosis chain (5 seconds)."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Copy the transaction hash of the confirmation and connect to the Ethereum mainnet."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Visit the helper contract: ",(0,i.jsx)(t.a,{href:"https://gnosis.blockscout.com/address/0x2D51EAa266eafcb59bB36dD3c7E99C515e58113A",children:"https://gnosis.blockscout.com/address/0x2D51EAa266eafcb59bB36dD3c7E99C515e58113A"})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.code,{children:"getMessageHash"})," method field add the following information from your originating transaction and press the Query button. The method will return a hashed message."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"DAI recipient (typically the transaction sender but may differ if the \u2018relayTokens\u2019 functionality is used)"}),"\n",(0,i.jsxs)(t.li,{children:["Value (in ",(0,i.jsx)(t.strong,{children:"Wei"})," - do not include fees, only amount sent (Wei converter at ",(0,i.jsx)(t.a,{href:"http://eth-converter.com/",children:"http://eth-converter.com/"}),")"]}),"\n",(0,i.jsx)(t.li,{children:"Originating transaction hash"}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"6",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Copy the message hash and paste into the ",(0,i.jsx)(t.code,{children:"getMessage"})," method. If you receive 0x0 it means either the bridge oracles did not send a confirmation for the withdrawal yet or the data entered in the step 3 is incorrect. Double check the info and if it is correct you will eventually receive the message."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Once you receive the message, use the message hash again this time with the ",(0,i.jsx)(t.code,{children:"getSignatures"})," method. It will return a blob with packed signatures provided by the validator. The method could fail if not enough signatures are collected."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(56765).A+"",width:"3856",height:"2270"})}),"\n",(0,i.jsxs)(t.ol,{start:"8",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go to Etherscan and connect a web3 wallet: ",(0,i.jsx)(t.a,{href:"https://etherscan.io/address/0x4aa42145aa6ebf72e164c9bbc74fbd3788045016#writeProxyContract",children:"https://etherscan.io/address/0x4aa42145aa6ebf72e164c9bbc74fbd3788045016#writeProxyContract"})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Enter the message (from ",(0,i.jsx)(t.code,{children:"getMessage"})," method above) and the signatures blob to the ",(0,i.jsx)(t.code,{children:"executeSignatures"})," method, press the ",(0,i.jsx)(t.strong,{children:"Write"})," button and complete the transaction with a Web3 wallet. If the method reverts, the withdrawal was likely already executed. You can check all input for the recipient here: ",(0,i.jsx)(t.a,{href:"https://etherscan.io/token/0x6b175474e89094c44da98b954eedeac495271d0f?a=0x",children:"https://etherscan.io/token/0x6b175474e89094c44da98b954eedeac495271d0f?a=0x"}),"..., where the recipient's address follows after \u201ca=\u201c."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(485).A+"",width:"3898",height:"2214"})}),"\n",(0,i.jsxs)(t.p,{children:["Once you have written to the contract method, a View your ",(0,i.jsx)(t.strong,{children:"transaction"})," button will appear. Click to view the pending transaction."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(67447).A+"",width:"1224",height:"268"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"A completed transaction",src:n(96282).A+"",width:"3898",height:"2214"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},56765:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/blockscout1-e0e2d7f6331aea48080b851c6fb66439.jpg"},485:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/etherscan1-ce063f293edc087b269dc2e1f872b860.jpg"},96282:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/etherscan2-850fb0c8f9b25a35ed3e70d004ab97b5.jpg"},67447:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/etherscan3-b722f6adc76bd0e480ba3908639916c9.jpg"},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);