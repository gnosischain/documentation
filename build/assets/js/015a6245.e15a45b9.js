"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[59365],{52033:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var a=t(74848),r=t(28453);const s={title:"The Graph",description:"The Graph is a decentralized protocol for indexing and querying chain data, supports Gnosis.",keywords:["the graph","data indexing","query data","chain data","subgraphs"]},o="The Graph Data Indexing",i={id:"tools/analytics/the-graph",title:"The Graph",description:"The Graph is a decentralized protocol for indexing and querying chain data, supports Gnosis.",source:"@site/docs/tools/analytics/the-graph.md",sourceDirName:"tools/analytics",slug:"/tools/analytics/the-graph",permalink:"/tools/analytics/the-graph",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/tools/analytics/the-graph.md",tags:[],version:"current",lastUpdatedBy:"omahs",lastUpdatedAt:1686920827,formattedLastUpdatedAt:"Jun 16, 2023",frontMatter:{title:"The Graph",description:"The Graph is a decentralized protocol for indexing and querying chain data, supports Gnosis.",keywords:["the graph","data indexing","query data","chain data","subgraphs"]},sidebar:"tools",previous:{title:"Faucets",permalink:"/tools/faucets/"},next:{title:"Moralis",permalink:"/tools/analytics/moralis"}},h={},c=[{value:"Setting up a hosted project with TheGraph &amp; Gnosis",id:"setting-up-a-hosted-project-with-thegraph--gnosis",level:2},{value:"Steps:",id:"steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"the-graph-data-indexing",children:"The Graph Data Indexing"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://thegraph.com/",children:"The Graph"})," is a decentralized protocol for indexing and querying chain data, supports Gnosis. Data defined through subgraphs is easy to query and explore. Subgraphs can be created locally, or use a free hosted explorer for indexing and data display."]}),"\n",(0,a.jsx)(n.h2,{id:"setting-up-a-hosted-project-with-thegraph--gnosis",children:"Setting up a hosted project with TheGraph & Gnosis"}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"https://thegraph.com/docs/en/",children:"The Graph Documentation"})," for more details, local installation and more."]})}),"\n",(0,a.jsx)(n.h2,{id:"steps",children:"Steps:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Go to ",(0,a.jsx)(n.a,{href:"https://thegraph.com/explorer/",children:"Graph Explorer"})," and setup an account. You will need a GitHub account for authentication."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Go to your dashboard and click ",(0,a.jsx)(n.strong,{children:"Add Subgraph"}),". Define the subgraph Name, Account, and Subtitle and update the image and other info (you can update later) if desired."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Basic info is required to create a subgraph. You can modify later if needed.",src:t(25225).A+"",width:"3144",height:"2126"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"Install Graph CLI on your machine (using either npm or yarn)"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ npm install -g @graphprotocol/graph-cli\n$ yarn global add @graphprotocol/graph-cli\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"The following command creates a subgraph that indexes all events of an existing contract. It attempts to fetch the contract ABI from BlockScout and falls back to requesting a local file path. If any of the optional arguments are missing, it takes you through an interactive form."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"*Note: The interactive form does not currently include Gnosis in the dropdown of networks, so using the following flags is useful for a Gnosis deployment."})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"graph init\n  --from-contract <CONTRACT_ADDRESS>\n  [--network xdai ]\n  [--abi <FILE>]\n  <GITHUB_USER>/<SUBGRAPH_NAME> [<DIRECTORY>]\n"})}),"\n",(0,a.jsxs)(n.p,{children:["--from-contract ",(0,a.jsx)(n.code,{children:"<CONTRACT_ADDRESS>"})," is the address of your existing contract."]}),"\n",(0,a.jsxs)(n.p,{children:["--abi ",(0,a.jsx)(n.code,{children:"<FILE>"})," is a local path to a contract ABI file (optional, If ",(0,a.jsx)(n.a,{href:"https://docs.blockscout.com/for-users/smart-contract-interaction/verifying-a-smart-contract",children:"verified in BlockScout"}),", the graph will grab the ABI, otherwise you will need manually add the ABI. ",(0,a.jsxs)(n.em,{children:["You can save the abi from BlockScout or by running ",(0,a.jsx)(n.code,{children:"truffle compile"})," or ",(0,a.jsx)(n.code,{children:"solc"})," on a public project."]})," ",(0,a.jsx)(n.a,{href:"https://thegraph.com/docs/en/developing/creating-a-subgraph/",children:(0,a.jsx)(n.em,{children:"More info available here"})}),(0,a.jsx)(n.em,{children:".)"})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"<GITHUB_USER>"})," is your github user or organization name, ",(0,a.jsx)(n.code,{children:"<SUBGRAPH_NAME>"})," is the name for your subgraph, and ",(0,a.jsx)(n.code,{children:"<DIRECTORY>"})," is the optional name of the directory where ",(0,a.jsx)(n.code,{children:"graph init"})," will put the example subgraph manifest."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.em,{children:"Choose the subgraph name created in step 2 as lowercase-hyphenated"})}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["More details are here: ",(0,a.jsx)(n.a,{href:"https://thegraph.com/docs/en/developer/create-subgraph-hosted/",children:"https://thegraph.com/docs/en/developer/create-subgraph-hosted/"})]})}),"\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsx)(n.li,{children:"Authenticate with the hosted service"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"graph auth https://api.thegraph.com/deploy/ <your-access-token>\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"6",children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["cd to the directory you created and start defining the subgraph. Information on creating a subgraph is available in ",(0,a.jsx)(n.a,{href:"https://thegraph.com/docs/en/developing/creating-a-subgraph/",children:"The Graph Docs"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"When you are ready, deploy your subgraph. You can always test and redeploy as needed."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"yarn deploy\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"success",children:(0,a.jsx)(n.p,{children:"Your subgraph will be deployed, and you can try sample queries. If you are ready to make it public, select the subgraph and turn off the Hide slider."})})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},25225:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/xdai-graph-dfec649d927ed928c3e6906d07cb2949.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(96540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);