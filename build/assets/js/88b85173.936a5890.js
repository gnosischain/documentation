"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[44837],{36793:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var t=i(74848),c=i(28453);const s={title:"Chainlink",description:"Chainlink allows smart contracts to receive aggregated price feeds and access external data using a decentralized network of oracles.",keywords:["chainlink","oracle","data feeds","price feeds"]},a="Chainlink Price Feeds",o={id:"tools/oracles/chainlink",title:"Chainlink",description:"Chainlink allows smart contracts to receive aggregated price feeds and access external data using a decentralized network of oracles.",source:"@site/docs/tools/oracles/chainlink.md",sourceDirName:"tools/oracles",slug:"/tools/oracles/chainlink",permalink:"/tools/oracles/chainlink",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/tools/oracles/chainlink.md",tags:[],version:"current",lastUpdatedBy:"Vanshika",lastUpdatedAt:1708167281,formattedLastUpdatedAt:"Feb 17, 2024",frontMatter:{title:"Chainlink",description:"Chainlink allows smart contracts to receive aggregated price feeds and access external data using a decentralized network of oracles.",keywords:["chainlink","oracle","data feeds","price feeds"]},sidebar:"tools",previous:{title:"API3",permalink:"/tools/oracles/api3"},next:{title:"Gas Price",permalink:"/tools/oracles/gas-price"}},r={},l=[{value:"Addresses",id:"addresses",level:2},{value:"Basic Tutorial: Price Feeds",id:"basic-tutorial-price-feeds",level:2},{value:"1) Install and configure MetaMask",id:"1-install-and-configure-metamask",level:3},{value:"2) Get xDai with Faucet",id:"2-get-xdai-with-faucet",level:3},{value:"3) Open Remix and Create File",id:"3-open-remix-and-create-file",level:3},{value:"Example Code",id:"example-code",level:3},{value:"4) Compile Contract in Remix",id:"4-compile-contract-in-remix",level:3},{value:"5) Deploy Contract",id:"5-deploy-contract",level:3},{value:"6) Check Contract",id:"6-check-contract",level:3},{value:"Verify Contract in BlockScout Block Explorer",id:"verify-contract-in-blockscout-block-explorer",level:2},{value:"1) Find Deployed Contract",id:"1-find-deployed-contract",level:3},{value:"2) Add Sources to Verify",id:"2-add-sources-to-verify",level:3},{value:"3) View your Contract in BlockScout",id:"3-view-your-contract-in-blockscout",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"chainlink-price-feeds",children:"Chainlink Price Feeds"}),"\n",(0,t.jsxs)(n.p,{children:["Chainlink allows smart contracts to receive aggregated price feeds and access external data using a decentralized network of oracles. The Gnosis <->\\ Chainlink integration was completed by ",(0,t.jsx)(n.a,{href:"https://blog.chain.link/protofire-receives-a-chainlink-community-grant-for-an-integration-with-xdai/",children:"Protofire with a Chainlink Community Grant."})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Chainlink offers a tutorial on using secure data feeds with Gnosis. ",(0,t.jsx)(n.a,{href:"https://blog.chain.link/build-a-dapp-on-xdai-chain-with-secure-data-feeds/",children:"See it in action"})]})}),"\n",(0,t.jsx)(n.h2,{id:"addresses",children:"Addresses"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LINK Token on Gnosis"}),": ",(0,t.jsx)(n.a,{href:"https://gnosis.blockscout.com/address/0xE2e73A1c69ecF83F464EFCE6A5be353a37cA09b2",children:(0,t.jsx)(n.code,{children:"0xE2e73A1c69ecF83F464EFCE6A5be353a37cA09b2"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Price Feeds on Gnosis:"})," ",(0,t.jsx)(n.a,{href:"https://docs.chain.link/docs/data-feeds-gnosis-chain/#Gnosis%20Chain%20Mainnet",children:"Latest list is available in the Chainlink Documentation"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-tutorial-price-feeds",children:"Basic Tutorial: Price Feeds"}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"https://docs.chain.link/docs/getting-started",children:"Chainlink documentation"})," for more advanced tutorials and information. The following shows how to use MetaMask/Remix with Gnosis to deploy a simple price feed contract, then call the function using Blockscout."]}),"\n",(0,t.jsx)(n.h3,{id:"1-install-and-configure-metamask",children:"1) Install and configure MetaMask"}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/tools/wallets/metamask",children:"MetaMask setup page"})," and follow the setup and configuration sections"]}),"\n",(0,t.jsx)(n.h3,{id:"2-get-xdai-with-faucet",children:"2) Get xDai with Faucet"}),"\n",(0,t.jsxs)(n.p,{children:["You can get enough xDai to deploy your contracts and more with the a ",(0,t.jsx)(n.a,{href:"/tools/faucets",children:"Faucet"}),". You should see it added to your address in a few seconds."]}),"\n",(0,t.jsx)(n.h3,{id:"3-open-remix-and-create-file",children:"3) Open Remix and Create File"}),"\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.a,{href:"https://remix.ethereum.org/",children:"https://remix.ethereum.org/"})]}),"\n",(0,t.jsx)(n.p,{children:"There are several ways to create a new file. Here we:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a folder called Gnosis Price Feed."}),"\n",(0,t.jsxs)(n.li,{children:["Create a file in the folder called ",(0,t.jsx)(n.code,{children:"PriceFeedTest.sol"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Paste in the example code below the image."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(50110).A+"",width:"2316",height:"1298"})}),"\n",(0,t.jsx)(n.h3,{id:"example-code",children:"Example Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-solidity",children:'/** This example code is designed to quickly deploy an example contract using Remix.\n *  If you have never used Remix, try our example walkthrough: https://docs.chain.link/docs/example-walkthrough\n *  You will need xDai to deploy on Gnosis.\n *     - xDai Faucet: https://docs.gnosischain.com/tools/faucets\n *     - LINK address on xDai: 0xE2e73A1c69ecF83F464EFCE6A5be353a37cA09b2\n */\n\npragma solidity ^0.6.7;\n\nimport "https://github.com/smartcontractkit/chainlink/blob/master/evm-contracts/src/v0.6/interfaces/AggregatorV3Interface.sol";\n\ncontract PriceConsumerV3 {\n\n    AggregatorV3Interface internal priceFeed;\n\n    /**\n     * Network: Gnosis\n     * Aggregator: ETH/USD\n     * Address: 0xa767f745331D267c7751297D982b050c93985627\n     */\n    constructor() public {\n        priceFeed = AggregatorV3Interface(0xa767f745331D267c7751297D982b050c93985627);\n    }\n\n    /**\n     * Returns the latest price\n     */\n    function getLatestPrice() public view returns (int) {\n        (\n            uint80 roundID,\n            int price,\n            uint startedAt,\n            uint timeStamp,\n            uint80 answeredInRound\n        ) = priceFeed.latestRoundData();\n        return price;\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"The code below uses the Chainlink standard Price Consumer contract along with several modifications:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"We initialize the ETH/USD Gnosis Price Feed in the constructor"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-solidity",children:"priceFeed = AggregatorV3Interface(0xa767f745331D267c7751297D982b050c93985627);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["We use the ",(0,t.jsx)(n.code,{children:"getLatestPrice"})," function to return the current price. It pulls this from the ",(0,t.jsx)(n.code,{children:"latestRoundData"})," function in the imported ",(0,t.jsx)(n.code,{children:"AggregatorV3Interface.sol"})," Contract"]}),"\n",(0,t.jsx)(n.h3,{id:"4-compile-contract-in-remix",children:"4) Compile Contract in Remix"}),"\n",(0,t.jsx)(n.p,{children:"Click on the Compiler Icon, adjust items (if necessary, we keep defaults here) and click the Compile button."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(70485).A+"",width:"2312",height:"1292"})}),"\n",(0,t.jsx)(n.h3,{id:"5-deploy-contract",children:"5) Deploy Contract"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Deploy"})," Icon."]}),"\n",(0,t.jsx)(n.li,{children:"Change Environment to Web3."}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Deploy"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Confirm the transaction in MetaMask. You account must be connected to Gnosis and have a small amount of xDai (see steps 1 and 2)."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(58860).A+"",width:"2330",height:"1582"})}),"\n",(0,t.jsx)(n.h3,{id:"6-check-contract",children:"6) Check Contract"}),"\n",(0,t.jsxs)(n.p,{children:["Once deployed, click to expand the contract. Click ",(0,t.jsx)(n.code,{children:"getLatestPrice"})," to check the ETH/USD price."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(78769).A+"",width:"2280",height:"1456"})}),"\n",(0,t.jsx)(n.h2,{id:"verify-contract-in-blockscout-block-explorer",children:"Verify Contract in BlockScout Block Explorer"}),"\n",(0,t.jsx)(n.h3,{id:"1-find-deployed-contract",children:"1) Find Deployed Contract"}),"\n",(0,t.jsxs)(n.p,{children:["For transparency and interaction purposes, you can verify your contract on ",(0,t.jsx)(n.a,{href:"https://blockscout.com/xdai/mainnet/",children:"BlockScout"}),". ",(0,t.jsx)(n.em,{children:"Note, if a contract with the same bytecode has already been deployed and verified, your contract code may be viewable."})," ",(0,t.jsx)(n.a,{href:"https://gnosis.blockscout.com/address/0x681ef0446AA72723256f1De4d1BE7Dd9bb7F84Cf/contracts",children:(0,t.jsx)(n.em,{children:"See this example"})}),(0,t.jsx)(n.em,{children:"."})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Copy the deployed contract address in Remix."}),"\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.a,{href:"https://blockscout.com/xdai/mainnet/",children:"BlockScout"})," and paste into the search field."]}),"\n",(0,t.jsx)(n.li,{children:"Click the Code tab for verification methods."}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsx)(n.strong,{children:"Verify and Publish"})," Button."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(96045).A+"",width:"704",height:"370"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(78321).A+"",width:"2554",height:"1806"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(46280).A+"",width:"1648",height:"598"})}),"\n",(0,t.jsx)(n.h3,{id:"2-add-sources-to-verify",children:"2) Add Sources to Verify"}),"\n",(0,t.jsx)(n.p,{children:"Select either a flattened file or Sources. In this example we select the Sources and metadata JSON files from Remix"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(93343).A+"",width:"2450",height:"1486"})}),"\n",(0,t.jsxs)(n.p,{children:["Remix does not have an auto-export feature. You can use the ",(0,t.jsx)(n.a,{href:"https://ethereum.stackexchange.com/questions/60115/how-to-save-solidity-remix-ethereum-file-in-local-disk-with-sol-extensionhow-to",children:(0,t.jsx)(n.code,{children:"remixd"})})," or copy the contents of each file and save in a text editor computer using the same names and file extensions. ",(0,t.jsx)(n.strong,{children:"Include all imported files called by the contract"}),", in this case the ",(0,t.jsx)(n.code,{children:"AggregatorV3Interface.sol"})," file."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(39542).A+"",width:"2300",height:"1540"})}),"\n",(0,t.jsxs)(n.p,{children:["Drag and drop the files into the interface and click ",(0,t.jsx)(n.strong,{children:"Verify & publish"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(44668).A+"",width:"2288",height:"1560"})}),"\n",(0,t.jsx)(n.h3,{id:"3-view-your-contract-in-blockscout",children:"3) View your Contract in BlockScout"}),"\n",(0,t.jsx)(n.p,{children:"Once verified, you will see the checkmark next to the code, and you can read (and write) to your contract within the BlockScout environment."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(96933).A+"",width:"2554",height:"1806"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},50110:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain1-746b26fbdc032ad8d0826b2c7ac6da79.png"},44668:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain10-7f74ea045cf94a2096b1eec7d98a624c.png"},96933:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain11-b204df6c5e7eb35e5cbf6d7cc8429a78.png"},70485:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain2-803d2306b83e1926f491b4e990ea5dcc.png"},58860:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain3-45bdec1bf9e398f608413e74d0ca48f0.png"},96045:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain5-c522e68783190e7fdb67b6d5a4a6ed0c.png"},78321:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain6-bd5cac0c10df305b477b11c06473ce1e.png"},46280:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain7-102f2493f774605f907aad8e4bd16e55.png"},93343:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain8-e6419cc623975b6094e7b229365b57cf.png"},39542:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chain9-7fc1dc87d48381d56341eb4447a4cd7d.png"},78769:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/chainlin-4-796c1287b5022b7e974d6edbfa88e300.png"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const c={},s=t.createContext(c);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);