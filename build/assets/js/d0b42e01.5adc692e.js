"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[52827],{58703:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var t=a(74848),i=a(28453);const s={},r="FAQ",o={id:"faq/node",title:"FAQ",description:"Validators",source:"@site/docs/faq/node.md",sourceDirName:"faq",slug:"/faq/node",permalink:"/faq/node",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/faq/node.md",tags:[],version:"current",lastUpdatedBy:"Dee",lastUpdatedAt:1705404574,formattedLastUpdatedAt:"Jan 16, 2024",frontMatter:{}},d={},l=[{value:"Validators",id:"validators",level:2},{value:"Shapella &amp; Validator withdrawal FAQs",id:"shapella--validator-withdrawal-faqs",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(n.h2,{id:"validators",children:"Validators"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Where can I track my validator performance?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.gnosis.builders/post/gnosispools-guide",children:"GnosisPools"}),", ",(0,t.jsx)(n.a,{href:"/node/management/monitoring-node",children:"Node monitoring guide"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"How to run a node on Gnosis Chain?"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/",children:"https://docs.gnosischain.com/node/"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What is reward & penalties?"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/rewards-penalties",children:"https://docs.gnosischain.com/node/rewards-penalties"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Where can I find hardware requirements to run a node?"}),"\n",(0,t.jsxs)(n.p,{children:["Hardware requirements differ by client but generally are not that high. To get a better idea, you can check each specific client\u2019s hardware requirements here: ",(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/#hardware",children:"https://docs.gnosischain.com/node/#hardware"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"How did the merge impact my GBC node?"}),"\n",(0,t.jsx)(n.p,{children:"The Ethereum Mainnet merged with the beacon chain proof-of-stake system. This marked the end of proof-of-work for Ethereum, and the full transition to proof-of-stake. The Gnosis Beacon Chain (GBC) serves in a frontrunning capacity for important Ethereum consensus-layer updates."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"My nethermind xdai is lagging, it never seems to catch up to 100%. It fluctuates between 97-99.5% synced. I\u2019m using nethermind xdai execution client, lighthouse gnosis consensus client and the web3 gnosis signer."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"update all packages to the latest version (core, EL, CL, web3signer, etc)"}),"\n",(0,t.jsx)(n.li,{children:"turn on EL + CL and check if both are on sync before turning on the validator (see that lighthouse has 2 processes, 1 beacon and 1 validator)"}),"\n",(0,t.jsx)(n.li,{children:"(a) if both are on sync, turn on the validator and check 10 minutes later the beacon explorer\n(b) if you don\u2019t get both to the head, let me know here and we can troubleshoot together."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"My validator is constantly missing attestations. Several of my validators are said to be inactive and getting penalized on beacon.gnosischain.com, although logs show errors that I don\u2019t understand. And half of them are active and well (all running on the same physical machine)."}),"\n",(0,t.jsxs)(n.p,{children:["Solution from discord user @pyk:\n",(0,t.jsx)(n.a,{href:"https://discord.com/channels/502416149343109121/920642136272166972/1055445460023783525",children:"https://discord.com/channels/502416149343109121/920642136272166972/1055445460023783525"})]}),"\n",(0,t.jsx)(n.p,{children:"This happens on my end due to one beacon node cannot handle all validators request (hence some validators miss their attestations while others dont) and sometimes beacon node lose all its peers."}),"\n",(0,t.jsx)(n.p,{children:"My solution is to run a few beacon nodes (lodestar) connected to one execution node (nethermind), so I have backup when one beacon node disconnected from their peers."}),"\n",(0,t.jsx)(n.p,{children:"For example here is how to connect multiple beacon nodes in one validator (lodestar):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"    validator\n        --network=gnosis\n        --dataDir=/data\n        --logFileLevel=info\n        --beaconNodes=http://gnosis-beacon-1:4000,http://gnosis-beacon-2:4000,http://gnosis-beacon-3:4000,http://gnosis-beacon-4:4000,http://gnosis-beacon-5:4000\n\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["I added 3 validators and skipped the ",(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/tools/dappnode/#step-3-upload-keystores-to-web3signer",children:"\u201cStep 3: Upload Keystores to Web3Signer\u201d"})," in dappNode and got error: Status: error \u274c Message: Error importing keystore: Unable to add validator. Check that the keystore file format is valid and the password is correct.\u201d . I went directly to \u201cStep 4: Fund Your Validators\u201d. Now I see they are active but missing attestations. The password is correct and the keystore files are the same I used in step 4."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Double-check that you\u2019re uploading your keystores to web3signer Gnosis"}),"\n",(0,t.jsx)(n.li,{children:"Try restarting both Web3Signer Gnosis and your Consensus Client"}),"\n",(0,t.jsx)(n.li,{children:"If this is the first time you\u2019re uploading your keystores, make sure you uncheck the import slashing data option"}),"\n",(0,t.jsx)(n.li,{children:"Triple-check your password is right and was inputed as you intended"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Which clients are supported by GBC?"}),"\n",(0,t.jsxs)(n.p,{children:["Lighthouse, Prysm, Nimbus, and Teku clients. ",(0,t.jsx)(n.a,{href:"/node/architecture#consensus-layer",children:"Read more here"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"How long does it take to sync the node?"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Along with running the GBC client you can also consider running a Gnosis Node to connect with (",(0,t.jsx)(n.em,{children:"optional - recommended for experienced node runners only"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["Syncing ",(0,t.jsx)(n.a,{href:"/node/manual",children:"Gnosis using Nethermind"})," requires ~200GB (and growing) of data to download. You may encounter some errors during syncing. Depending on your setup, you can expect it to take anywhere from a few hours to several days."]}),"\n",(0,t.jsxs)(n.ol,{start:"11",children:["\n",(0,t.jsx)(n.li,{children:"Can I use a node provider to run a Gnosis node?"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Check the ",(0,t.jsx)(n.a,{href:"/tools/rpc/",children:"RPC Providers"})," page for the complete list."]}),"\n",(0,t.jsxs)(n.ol,{start:"12",children:["\n",(0,t.jsx)(n.li,{children:"Can I use DappNode?"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Yes! ",(0,t.jsx)(n.a,{href:"https://dappnode.io",children:"DappNode"})," is a partner and full-featured service provider for the Gnosis Beacon Chain. If you would like to use their services for validation, please see the ",(0,t.jsx)(n.a,{href:"https://forum.dappnode.io/t/how-to-setup-a-gnosis-beacon-chain-gbc-validator-on-dappnode/1351",children:"guide and instructions here."})]}),"\n",(0,t.jsxs)(n.ol,{start:"13",children:["\n",(0,t.jsx)(n.li,{children:"Help! I've lost my validator keys"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You are responsible for your keys (deriving and storing your keys and mnemonic securely). If you lose them or your keys are compromised, there is no recourse to recover your funds."}),"\n",(0,t.jsxs)(n.ol,{start:"14",children:["\n",(0,t.jsx)(n.li,{children:"What is a validator?"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Validators propose and vote on blocks to include in the chain. The chain is secured by a staked amount of GNO. Validators stake GNO and receive additional GNO as rewards for correct behavior (proposing and attesting blocks) and a slashed balance as penalties for incorrect behavior (offline node, attesting invalid blocks)."}),"\n",(0,t.jsxs)(n.ol,{start:"15",children:["\n",(0,t.jsx)(n.li,{children:"What is the deposit contract?"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The deposit contract keeps track of validators and staking amounts. The GBC deposit contract is based on ",(0,t.jsx)(n.a,{href:"https://github.com/ethereum/consensus-specs/blob/master/solidity_deposit_contract/deposit_contract.sol",children:"the original Ethereum beacon chain deposit contract"}),", with ",(0,t.jsx)(n.a,{href:"/concepts/specs/security-audit",children:"some additional functionality"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Contract Security Audit by Chainsecurity: ",(0,t.jsx)(n.a,{href:"https://chainsecurity.com/security-audit/poa-network-stake-beacon-chain-sbc-deposit/",children:"https://chainsecurity.com/security-audit/poa-network-stake-beacon-chain-sbc-deposit/"})]}),"\n",(0,t.jsxs)(n.li,{children:["GBC Contract Address: ",(0,t.jsx)(n.a,{href:"https://gnosis.blockscout.com/address/0x0B98057eA310F4d31F2a452B414647007d1645d9",children:"0x0B98057eA310F4d31F2a452B414647007d1645d9"})]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"16",children:["\n",(0,t.jsx)(n.li,{children:"How much do validators earn in rewards?"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This varies based on how many validators are participating. As the number of validators increases, the reward for validation is reduced as security becomes increasingly decentralized. Additional info is available on the ",(0,t.jsx)(n.a,{href:"/node/rewards-penalties",children:"incentives page"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["You can view the current reward yield and other statistics on the ",(0,t.jsx)(n.a,{href:"https://dune.xyz/maxaleks/Gnosis-Beacon-Chain-(Deposits)",children:"Gnosis Beacon Chain Dune Analytics dashboard"}),"."]}),"\n",(0,t.jsxs)(n.ol,{start:"17",children:["\n",(0,t.jsx)(n.li,{children:"How many validator processes can run per node?"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It is possible to run multiple validator processes on a single node with GBC. A 4CPU/8GB node handled 256 validators during testing processes, although for higher decentralization it is recommended to run multiple nodes for this number of validators. The safe recommendation for multiple validators per node is 128."}),"\n",(0,t.jsxs)(n.ol,{start:"18",children:["\n",(0,t.jsx)(n.li,{children:"How long does fast sync take with Nethermind?"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It depends on the mode and hardware specifications. Typically 24 hours should be allowed."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For more information on syncing with Nethermind see ",(0,t.jsx)(n.a,{href:"https://github.com/NethermindEth/docs/blob/master/ethereum-client/sync-modes.md",children:"https://github.com/NethermindEth/docs/blob/master/ethereum-client/sync-modes.md"})]}),"\n",(0,t.jsxs)(n.li,{children:["To learn more about reading logs during syncing see ",(0,t.jsx)(n.a,{href:"https://docs.nethermind.io/nethermind/first-steps-with-nethermind/getting-started#explaining-nethermind-logs",children:"https://docs.nethermind.io/nethermind/first-steps-with-nethermind/getting-started#explaining-nethermind-logs"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"shapella--validator-withdrawal-faqs",children:"Shapella & Validator withdrawal FAQs"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What is Shapella?"}),"\n",(0,t.jsx)(n.p,{children:"Shapella refers to the combination of both Shanghai and Capella. Shanghai enables GNO staking withdrawals for Gnosis Chain, unlike the previous model that doesn\u2019t allow for staked GNO to be withdrawn. Shanghai is the name given to the execution layer (EL) upgrade, while Capella is the name of the coinciding consensus layer (CL) upgrade."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What are withdrawals?"}),"\n",(0,t.jsxs)(n.p,{children:["Validator withdrawal allows a validator\u2019s account balance to get withdrawn from Beacon Chain to Execution Layer, in the form of GNO. The GNO will be accrued on validator\u2019s withdrawal address on the Execution Layer, which is set using ",(0,t.jsx)(n.code,{children:"eth1_withdrawal_address"})," option during validator key generation."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What are two types of withdrawals?"}),"\n",(0,t.jsxs)(n.p,{children:["There are 2 types of withdrawals: Partial Withdrawal and Full Withdrawal.\nPartial Withdrawal: Any balance in excess of 1 GNO from the account balance gets withdrawn back to withdrawal address.\nFull Withdrawal: All the balance from validator\u2019s account gets withdrawn back to withdrawal address. This has to be initiated by validator, signing ",(0,t.jsx)(n.code,{children:"voluntary_exit"})," message and broadcasting it to the network. It is irreversible."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What are 0x00 and 0x01 withdrawal credentials prefixes?"}),"\n",(0,t.jsx)(n.p,{children:"The beacon chain validators have a field called withdrawal credentials, where the first byte is referred to as the withdrawal prefix. Currently, this value can be either 0x00 or 0x01, depending on how it is set during the deposit process using a deposit tool. Validators with 0x00 withdrawal credentials won\u2019t have immediate withdrawal capabilities. To enable partial and full withdrawals and unlock their funds, these validators must undergo a one-time migration to 0x01. As this is a one time process, it is essential to be careful performing it."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"How do I change my withdrawal credential?"}),"\n",(0,t.jsxs)(n.p,{children:["You can find a full tutorial on how to change your withdrawal credential ",(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/management/withdrawals#how-to-change-the-withdrawal-credential",children:"here"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"I have been running multiple validators. Can I set up the same withdrawal credential for all of them?"}),"\n",(0,t.jsx)(n.p,{children:"Yes, you can set up the same withdrawal credential for all of your validators and can also set up different withdrawal credentials for individual validators."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Where can I check my withdrawal credential?"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/management/withdrawals#check-withdrawal-credential",children:"https://docs.gnosischain.com/node/management/withdrawals#check-withdrawal-credential"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Do partial withdrawals happen automatically?"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["As we have modified some specs regarding the withdrawals to enable withdrawing GNO instead of the native gas token xDai, unlike Ethereum, partial withdrawals currently do not happen automatically. So, for now, you will need to call ",(0,t.jsx)(n.a,{href:"https://gnosisscan.io/address/0x0b98057ea310f4d31f2a452b414647007d1645d9#writeProxyContract#F3",children:(0,t.jsx)(n.code,{children:"claimWithdrawal"})})," function on the ",(0,t.jsx)(n.a,{href:"https://gnosisscan.io/address/0x0b98057ea310f4d31f2a452b414647007d1645d9#writeProxyContract",children:"contract"}),". However, it is in our plans to automate and subsidize partial withdrawals in the future."]}),"\n",(0,t.jsxs)(n.ol,{start:"9",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Do full withdrawals happen automatically?"}),"\n",(0,t.jsx)(n.p,{children:"No. If your validator is currently active and participating in the beacon chain, then the full withdrawal will not happen automatically. You will have to manually initiate an exit to cause this."}),"\n",(0,t.jsxs)(n.p,{children:["Additionally, if you initiate an exit but still have a 0x00 withdrawal credential, your funds will not be withdrawn until a ",(0,t.jsx)(n.code,{children:"BLSToExecutionChange"})," message is included on chain."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Is there a UI that I can use for withdrawals?"}),"\n",(0,t.jsx)(n.p,{children:"No, as you will have to interact with the beacon chain, it is not feasible to provide a UI that encompasses all the clients."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Where does the automatic balance withdraw to?"}),"\n",(0,t.jsx)(n.p,{children:"In case you are using a legacy withdrawal credential 0x00, it will not be withdrawn and you will have to perform a migration to 0x01 credentials to complete the withdrawal. If you have already configured your withdrawal address and have a withdrawal credential of 0x01, then rewards in excess of 1 GNO (32 mGNO) will be transferred to your withdrawal address."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Once I have changed my credential to 0x01, can I change it to an alternative withdrawal address?"}),"\n",(0,t.jsx)(n.p,{children:"No, the migration from 0x00 to 0x01 is a one time process and once you set the address, it cannot be changed. Please make this migration with the utmost care. Note, the withdrawal credential can either be an externally-owned account (EOA) or a smart contract such as a SAFE."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"I have lost the private key to my withdrawal address, what can I do?"}),"\n",(0,t.jsx)(n.p,{children:"Unfortunately, there is nothing that can be done if the withdrawal address is lost. Please ensure this address is properly backed up and securely stored."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"What happens to my GNO if I make a full withdrawal but I forget to set the withdrawal credential to 0x01?"}),"\n",(0,t.jsx)(n.p,{children:"Nothing. Your validator will exit, and will no longer be assigned duties, neither able to earn nor lose any more additional GNO. You may still migrate your withdrawal credentials from 0x00 to 0x01. Once this is done, the validator\u2019s balance will be withdrawn to the address you specify."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Can I cancel a withdrawal request that is in the queue?"}),"\n",(0,t.jsx)(n.p,{children:"No you cannot, this is a one time, irreversible process. Once you submit your withdrawal request (BLSToExecutionChange and/or exit) you can\u2019t go back. Please only exit or change credentials when you are fully aware of what the specific operation will do and with utmost caution."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Where can I find the client updates for Shapella?"}),"\n",(0,t.jsxs)(n.p,{children:["You can find all client updates in this ",(0,t.jsx)(n.a,{href:"https://www.gnosis.io/blog/shapella-client-updates",children:"blog post"})," or ",(0,t.jsx)(n.a,{href:"https://docs.gnosischain.com/node/management/withdrawals",children:"validator withdrawal section"}),". Make sure you update your clients before the upgrade."]}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>o});var t=a(96540);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);