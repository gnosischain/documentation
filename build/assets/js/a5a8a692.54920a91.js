"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[90654],{66137:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var r=n(74848),t=n(28453);const i={title:"Shanghai/Capella",description:"Enable validator withdrawals, and execution layer update",keywords:["gnosis hardfork","shanghai/capella","execution and consensus layer"]},s="What is Shanghai/Capella hardfork?",l={id:"about/specs/hard-forks/shanghai-capella",title:"Shanghai/Capella",description:"Enable validator withdrawals, and execution layer update",source:"@site/docs/about/specs/hard-forks/shanghai-capella.md",sourceDirName:"about/specs/hard-forks",slug:"/about/specs/hard-forks/shanghai-capella",permalink:"/about/specs/hard-forks/shanghai-capella",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/about/specs/hard-forks/shanghai-capella.md",tags:[],version:"current",lastUpdatedBy:"Vanshika",lastUpdatedAt:1708167281,formattedLastUpdatedAt:"Feb 17, 2024",frontMatter:{title:"Shanghai/Capella",description:"Enable validator withdrawals, and execution layer update",keywords:["gnosis hardfork","shanghai/capella","execution and consensus layer"]},sidebar:"about",previous:{title:"Dencun",permalink:"/about/specs/hard-forks/dencun"},next:{title:"The Merge",permalink:"/about/specs/hard-forks/merge"}},o={},h=[{value:"When did Shanghai/Capella hardfork happen?",id:"when-did-shanghaicapella-hardfork-happen",level:2},{value:"How to Prepare",id:"how-to-prepare",level:2},{value:"For Validators",id:"for-validators",level:3},{value:"How to claim your withdrawal?",id:"how-to-claim-your-withdrawal",level:2},{value:"Partial Withdrawal",id:"partial-withdrawal",level:3},{value:"Full Withdrawal",id:"full-withdrawal",level:3}];function d(a){const e={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...a.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"what-is-shanghaicapella-hardfork",children:"What is Shanghai/Capella hardfork?"}),"\n",(0,r.jsx)(e.p,{children:"Shanghai/Capella hardfork enables validator withdrawal and several execution layer update on Gnosis Chain. EIPs that are included in this hardfork: EIP-3651, EIP-3855, EIP-3860, EIP-6049."}),"\n",(0,r.jsxs)(e.p,{children:["Validator withdrawal allows a validator's account balance get withdrawn from Beacon Chain to Execution Layer, in the form of GNO. The GNO will be accrued on validator's withdrawal address on the Execution Layer, which is set using ",(0,r.jsx)(e.code,{children:"eth1_withdrawal_address"})," option during validator key generation."]}),"\n",(0,r.jsxs)(e.p,{children:["Check out ",(0,r.jsx)(e.a,{href:"/node/management/withdrawals",children:"validator withdrawal"})," for more details."]}),"\n",(0,r.jsx)(e.h2,{id:"when-did-shanghaicapella-hardfork-happen",children:"When did Shanghai/Capella hardfork happen?"}),"\n",(0,r.jsxs)(e.p,{children:["Epoch: 648704",(0,r.jsx)(e.br,{}),"\n","Slot: 10379264",(0,r.jsx)(e.br,{}),"\n","Time: August 1, 2023 at 11:34.20 UTC"]}),"\n",(0,r.jsx)(e.h2,{id:"how-to-prepare",children:"How to Prepare"}),"\n",(0,r.jsx)(e.h3,{id:"for-validators",children:"For Validators"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Check Withdrawal Credentials"}),"\n",(0,r.jsxs)(e.p,{children:["For any type of withdrawals, a validator need to have ",(0,r.jsx)(e.code,{children:"0x01"})," withdrawal credential. You\u2019re fine if you used ",(0,r.jsx)(e.code,{children:"--eth1_withdrawal_address"})," to create your validator keys. If not, tooling will be made available."]}),"\n",(0,r.jsxs)(e.p,{children:["Refer to ",(0,r.jsx)(e.a,{href:"/node/management/withdrawals#check-withdrawal-credential",children:"validator withdrawal"})," for more details."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Update your clients"}),"\n",(0,r.jsx)(e.p,{children:"Execution Layer:"}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 NethermindEth ",(0,r.jsx)(e.a,{href:"https://github.com/NethermindEth/nethermind/releases/tag/1.19.3",children:"v1.19.3"}),(0,r.jsx)(e.br,{}),"\n","\u2705 ErigonEth ",(0,r.jsx)(e.a,{href:"https://github.com/ledgerwatch/erigon/releases/tag/v2.48.0",children:"v2.48.0"})]}),"\n",(0,r.jsx)(e.p,{children:"Consensus Layer:"}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 Lighthouse ",(0,r.jsx)(e.a,{href:"https://github.com/sigp/lighthouse/releases/tag/v4.3.0",children:"v4.3.0"}),(0,r.jsx)(e.br,{}),"\n","\u2705 Teku ",(0,r.jsx)(e.a,{href:"https://github.com/Consensys/teku/releases/tag/23.6.1",children:"v23.6.1"}),(0,r.jsx)(e.br,{}),"\n","\u2705 Nimbus v23.6.0 (only with the following Docker image: ",(0,r.jsx)(e.a,{href:"http://ghcr.io/gnosischain/gnosis-nimbus-eth2:v23.6.0",children:"http://ghcr.io/gnosischain/gnosis-nimbus-eth2:v23.6.0"}),")",(0,r.jsx)(e.br,{}),"\n","\u2705 Lodestar ",(0,r.jsx)(e.a,{href:"https://github.com/ChainSafe/lodestar/releases/tag/v1.9.1",children:"v1.9.1"})]}),"\n",(0,r.jsx)(e.p,{children:"DAppNode Packages"}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 Teku Gnosis v0.1.9",(0,r.jsx)(e.br,{}),"\n","\u2705 Lighthouse Gnosis v0.1.10",(0,r.jsx)(e.br,{}),"\n","\u2705 Lodestar Gnosis v0.1.2",(0,r.jsx)(e.br,{}),"\n","\u2705 Nethermind xDAI v1.0.34",(0,r.jsx)(e.br,{}),"\n","\u231b\ufe0f Erigon and Nimbus - Forthcoming"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"how-to-claim-your-withdrawal",children:"How to claim your withdrawal?"}),"\n",(0,r.jsx)(e.h3,{id:"partial-withdrawal",children:"Partial Withdrawal"}),"\n",(0,r.jsxs)(e.p,{children:["As we have modified some specs regarding the withdrawals to enable withdrawing GNO instead of the native gas token xDai, unlike Ethereum, partial withdrawals currently do not happen automatically. So, for now, you will need to call ",(0,r.jsx)(e.a,{href:"https://gnosisscan.io/address/0x0b98057ea310f4d31f2a452b414647007d1645d9#writeProxyContract#F3",children:(0,r.jsx)(e.code,{children:"claimWithdrawal"})})," function on the ",(0,r.jsx)(e.a,{href:"https://gnosisscan.io/address/0x0b98057ea310f4d31f2a452b414647007d1645d9#writeProxyContract",children:"contract"}),". However, it is in our plans to automate and subsidize partial withdrawals in the future."]}),"\n",(0,r.jsx)(e.h3,{id:"full-withdrawal",children:"Full Withdrawal"}),"\n",(0,r.jsxs)(e.p,{children:["Please check guide on ",(0,r.jsx)(e.a,{href:"/node/management/voluntary-exit",children:"voluntary exit"}),"."]})]})}function c(a={}){const{wrapper:e}={...(0,t.R)(),...a.components};return e?(0,r.jsx)(e,{...a,children:(0,r.jsx)(d,{...a})}):d(a)}},28453:(a,e,n)=>{n.d(e,{R:()=>s,x:()=>l});var r=n(96540);const t={},i=r.createContext(t);function s(a){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof a?a(e):{...e,...a}}),[e,a])}function l(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(t):a.components||t:s(a.components),r.createElement(i.Provider,{value:e},a.children)}}}]);