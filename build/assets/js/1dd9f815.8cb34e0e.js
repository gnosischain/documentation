"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[80749],{57052:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var s=t(74848),o=t(28453);const i={title:"Monitoring your Node(s)"},r=void 0,a={id:"node/management/monitoring-node",title:"Monitoring your Node(s)",description:"To monitor a node in the network, you can either observe your own node's status or the entire network.",source:"@site/docs/node/management/monitoring-node.md",sourceDirName:"node/management",slug:"/node/management/monitoring-node",permalink:"/node/management/monitoring-node",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/node/management/monitoring-node.md",tags:[],version:"current",lastUpdatedBy:"Vanshika",lastUpdatedAt:1708167281,formattedLastUpdatedAt:"Feb 17, 2024",frontMatter:{title:"Monitoring your Node(s)"},sidebar:"node",previous:{title:"Managing your Node",permalink:"/node/management/"},next:{title:"Migrating a Validator",permalink:"/node/management/migrating-validator"}},d={},c=[{value:"Monitoring your own node with Prometheus + Grafana",id:"monitoring-your-own-node-with-prometheus--grafana",level:2},{value:"Default metrics port",id:"default-metrics-port",level:2},{value:"Execution client",id:"execution-client",level:3},{value:"Consensus client",id:"consensus-client",level:3},{value:"Monitoring the network",id:"monitoring-the-network",level:2},{value:"Ethstats",id:"ethstats",level:3},{value:"Forkmon",id:"forkmon",level:3},{value:"d14n.info",id:"d14ninfo",level:3},{value:"GnosisPools.info",id:"gnosispoolsinfo",level:3},{value:"Block explorer",id:"block-explorer",level:3},{value:"Execution Layer",id:"execution-layer",level:4},{value:"Consensus Layer",id:"consensus-layer",level:4}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{TabItem:i,Tabs:r}=n;return i||u("TabItem",!0),r||u("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"To monitor a node in the network, you can either observe your own node's status or the entire network.\nMonitoring your own node can give you insight into its status, and setting up a monitoring dashboard using Prometheus and Grafana is commonly used.\nTo monitor the network, options include ethstats, forkmon, beacon.gnosischain, and blockscout, each providing different types of information about the network and validator related metrics."}),"\n",(0,s.jsx)(n.h2,{id:"monitoring-your-own-node-with-prometheus--grafana",children:"Monitoring your own node with Prometheus + Grafana"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prometheus"})," is a systems monitoring tool that pulls data from certain endpoint and stores the data into a database.\n",(0,s.jsx)(n.strong,{children:"Grafana"})," is a data visualisation tool that allows user to create their own dashboard from different data sources, including Prometheus.\n",(0,s.jsx)(n.strong,{children:"Node exporter"})," is a monitoring tool that exposes your hardware and OS metrics. It can provide your system metrics to Prometheus."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Prometheus-Grafana-NodeExporter",src:t(38098).A+"",width:"711",height:"392"})}),"\n",(0,s.jsxs)(n.p,{children:["To set up these tools, please refer to the excellent guide from ethstaker on ",(0,s.jsx)(n.a,{href:"https://github.com/eth-educators/ethstaker-guides/blob/main/monitoring.md",children:"how to do monitoring for an Ethereum validator"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You may also refer to the ",(0,s.jsx)(n.a,{href:"https://launchpad.ethereum.org/en/",children:"Ethereum Setup Instructions "}),"and ",(0,s.jsx)(n.a,{href:"https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-mainnet/part-i-installation/monitoring-your-validator-with-grafana-and-prometheus",children:"CoinCashew's guide"})," for best monitoring practices."]}),"\n",(0,s.jsx)(n.p,{children:"In order to expose your node's clients data to Prometheus, please ensure the execution or consensus client has enabled the appropriate metrics flag."}),"\n",(0,s.jsx)(n.h2,{id:"default-metrics-port",children:"Default metrics port"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Client"}),(0,s.jsx)(n.th,{children:"Port"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Nethermind"}),(0,s.jsx)(n.td,{children:"6060"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lighthouse Beacon"}),(0,s.jsx)(n.td,{children:"5054"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lighthouse Validator"}),(0,s.jsx)(n.td,{children:"5064"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lodestar Beacon"}),(0,s.jsx)(n.td,{children:"8008"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lodestar Validator"}),(0,s.jsx)(n.td,{children:"5064"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Teku (Beacon & Validator)"}),(0,s.jsx)(n.td,{children:"8008"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Nimbus (Beacon & Validator)"}),(0,s.jsx)(n.td,{children:"8008"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Prysm Beacon"}),(0,s.jsx)(n.td,{children:"8080"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Prysm Validator"}),(0,s.jsx)(n.td,{children:"8081"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"execution-client",children:"Execution client"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)(i,{value:"Nethermind",label:"Nethermind",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--Metrics.Enabled true\n--Metrics.ExposePort <PORT>\n--Metrics.PushGatewayUrl\n\nRefer to https://docs.nethermind.io/nethermind/ethereum-client/metrics/setting-up-local-metrics-infrastracture\n"})})}),(0,s.jsx)(i,{value:"Erigon",label:"Erigon",children:(0,s.jsx)(n.p,{children:"WIP"})})]}),"\n",(0,s.jsx)(n.h3,{id:"consensus-client",children:"Consensus client"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)(i,{value:"lighthouse",label:"Lighthouse",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--metrics\n--metrics-port=<PORT>\n\nhttps://lighthouse-book.sigmaprime.io/advanced_metrics.html\nhttps://github.com/sigp/lighthouse-metrics\n"})})}),(0,s.jsx)(i,{value:"Lodestar",label:"Lodestar",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--metrics=true\n--metrics.port=<PORT>\n\nhttps://chainsafe.github.io/lodestar/usage/prometheus-grafana/\nhttps://chainsafe.github.io/lodestar/reference/cli/#validator\n"})})}),(0,s.jsxs)(i,{value:"Teku",label:"Teku",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--metrics-enabled=true\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.teku.consensys.net/en/latest/HowTo/Monitor/Metrics/",children:"https://docs.teku.consensys.net/en/latest/HowTo/Monitor/Metrics/"})})]}),(0,s.jsxs)(i,{value:"Nimbus",label:"Nimbus",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    --metrics\n    --metrics-port=<PORT>\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://nimbus.guide/metrics-pretty-pictures.html#simple-metrics",children:"https://nimbus.guide/metrics-pretty-pictures.html#simple-metrics"})})]}),(0,s.jsx)(i,{value:"Prysm",label:"Prysm",children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.prylabs.network/docs/prysm-usage/monitoring/grafana-dashboard/",children:"https://docs.prylabs.network/docs/prysm-usage/monitoring/grafana-dashboard/"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"monitoring-the-network",children:"Monitoring the network"}),"\n",(0,s.jsx)(n.h3,{id:"ethstats",children:"Ethstats"}),"\n",(0,s.jsx)(n.p,{children:"Ethstats provides real-time insight about the entire state of Gnosis network such as Block Time, Transactions per block, Gas per block; as well as individual node's metrics such as node's OS, Execution client version, peers number, etc."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"By default, your node data will not be listed on the ethstats page.\nListing a node on ethstats is a voluntary process."})}),"\n",(0,s.jsxs)(n.p,{children:["To enable ",(0,s.jsx)(n.a,{href:"https://docs.nethermind.io/nethermind/ethereum-client/configuration/ethstats",children:"ethstats module"})," in Nethermind, set ",(0,s.jsx)(n.code,{children:"--EthStats.Enabled true"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gnosis chain: ",(0,s.jsx)(n.a,{href:"https://ethstats.gnosischain.com/",children:"https://ethstats.gnosischain.com/"})]}),"\n",(0,s.jsxs)(n.li,{children:["Chiado: ",(0,s.jsx)(n.a,{href:"https://ethstats.chiadochain.net/",children:"https://ethstats.chiadochain.net/"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ethstats",src:t(53377).A+"",width:"1825",height:"1014"})}),"\n",(0,s.jsx)(n.h3,{id:"forkmon",children:"Forkmon"}),"\n",(0,s.jsx)(n.p,{children:"Forkmon (Fork monitor) is another tool to monitor Node's status."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gnosis Chain: ",(0,s.jsx)(n.a,{href:"https://forkmon.gnosischain.com/",children:"https://forkmon.gnosischain.com/"})]}),"\n",(0,s.jsxs)(n.li,{children:["Chiado: ",(0,s.jsx)(n.a,{href:"https://forkmon.chiadochain.net/",children:"https://forkmon.chiadochain.net/"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"d14ninfo",children:"d14n.info"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The site is deprecated"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://d14n.info/",children:"d14n.info"})," is a real-time dashboard that measures decentralization of Gnosis Chain and Ethereum networks."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"d14n dashboard",src:t(41500).A+"",width:"1689",height:"966"})}),"\n",(0,s.jsx)(n.h3,{id:"gnosispoolsinfo",children:"GnosisPools.info"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://gnosispools.info/d/Pz05j7dVk/gnosispools-public?orgId=1&refresh=5m&from=now-24h&to=now",children:"GnosisPools.info"})," allows you to monitor the performance of Gnosis consensus staking pool. Some of the metrics you can track include:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"% of inactive validators"}),"\n",(0,s.jsx)(n.li,{children:"Delta in rewards/penalties between consecutive epochs"}),"\n",(0,s.jsx)(n.li,{children:"Proposed and missed blocks for each epoch"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"block-explorer",children:"Block explorer"}),"\n",(0,s.jsx)(n.h4,{id:"execution-layer",children:"Execution Layer"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Gnosisscan"}),"\n",(0,s.jsx)(n.a,{href:"https://gnosisscan.io/",children:"Gnosisscan"})," provides data about blocks, transactions, validator's reward on Execution Layer, etc."]}),"\n",(0,s.jsx)(n.p,{children:"To check your Execution Layer Reward (in xDAI):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Search your ",(0,s.jsx)(n.code,{children:"fee-recipient-address"})," that is set when ",(0,s.jsx)(n.a,{href:"/node/manual/#step-4-run-a-validator",children:"running validator"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Validated Blocks"}),"\n",(0,s.jsx)(n.img,{alt:"GnosisScan Block Validated by Validator",src:t(55164).A+"",width:"1399",height:"854"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Blockscout"}),"\n",(0,s.jsx)(n.a,{href:"https://blockscout.com/xdai/mainnet",children:"Blockscout"})," is another block explorer similar to Gnosisscan."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Blockscout Block Validator by Validator",src:t(53709).A+"",width:"1367",height:"989"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"consensus-layer",children:"Consensus Layer"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"beacon.gnosischain"}),"\n",(0,s.jsx)(n.a,{href:"https://gnosischa.in//",children:"beacon.gnosischain"})," provides insight on consensus layer such as most recent epochs, most recent blocks, and validator's reward on Consensus layer. You can view your validator's info by using its public key or index."]}),"\n",(0,s.jsx)(n.p,{children:"To check your Consensus Layer Reward (in mGNO):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Search your validator by Index or Public Key."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Income"})," section indicates the overall consensus layer reward the validator has gained, ",(0,s.jsx)(n.strong,{children:"Validator History"})," shows the reward per epoch.\n",(0,s.jsx)(n.img,{alt:"beacon reward",src:t(13005).A+"",width:"1544",height:"956"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},13005:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/beacon-gnosischain-validator-reward-fd867a2b116f7370dc29094f79503bce.png"},53709:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/blockscout-validated-block-0ba5d4abd5ffef36057cffc42fec22ef.png"},41500:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/d14n-cc9721cefc6d36896e03123cc34c8c71.png"},53377:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/ethstats-fe38f4f47a2233acdd2a70c14427b611.png"},55164:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/gnosisscan-validated-block-5f530ce1be4cd3a0a52b9e0d0b3ab16b.png"},38098:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/prometheus-grafana-080f9d7301f3ffbbe55af2034c88df0c.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);