"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[68785],{51635:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=t(74848),a=t(28453);const o={title:"Full Stack Dapp",description:"In the following tutorial we will go through a step-by-step guide on how to create a full-stack Hello World App that interacts with Gnosis",keywords:["deploy dapp","full stack app","tutorial","web3","dapp development"]},s="Building a Full Stack Dapp",i={id:"developers/building/full-stack-dapp",title:"Full Stack Dapp",description:"In the following tutorial we will go through a step-by-step guide on how to create a full-stack Hello World App that interacts with Gnosis",source:"@site/docs/developers/building/full-stack-dapp.md",sourceDirName:"developers/building",slug:"/developers/building/full-stack-dapp",permalink:"/developers/building/full-stack-dapp",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/developers/building/full-stack-dapp.md",tags:[],version:"current",lastUpdatedBy:"Sukey",lastUpdatedAt:1697747766,formattedLastUpdatedAt:"Oct 19, 2023",frontMatter:{title:"Full Stack Dapp",description:"In the following tutorial we will go through a step-by-step guide on how to create a full-stack Hello World App that interacts with Gnosis",keywords:["deploy dapp","full stack app","tutorial","web3","dapp development"]},sidebar:"developers",previous:{title:"Deploying a Basic Contract",permalink:"/developers/building/first-contract"},next:{title:"Launching an ERC-20 Token",permalink:"/developers/building/token"}},l={},c=[{value:"Guideline Overview",id:"guideline-overview",level:2},{value:"Wallet",id:"wallet",level:2},{value:"Setting up your project",id:"setting-up-your-project",level:2},{value:"Tech Stack:",id:"tech-stack",level:3},{value:"Writing a contract",id:"writing-a-contract",level:2},{value:"Deploying your Contract",id:"deploying-your-contract",level:2},{value:"Adding your Front End",id:"adding-your-front-end",level:2},{value:"Interacting with Contract",id:"interacting-with-contract",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"building-a-full-stack-dapp",children:"Building a Full Stack Dapp"}),"\n",(0,r.jsx)(n.p,{children:"In the following tutorial we will go through a step-by-step guide on how to create a full-stack Hello World App that interacts with Gnosis. This tutorial is designed for either new developers interested in Dapp development or existing devs interested in migrating to Gnosis development."}),"\n",(0,r.jsx)(n.p,{children:"Throughout the tutorial, feel free to reference other pages in our documentation for information with greater depth - however this tutorial will give you a basic understanding of how to get up and running."}),"\n",(0,r.jsx)(n.p,{children:"This Dapp will allow you to wave at Gnosis, and see how many times you have waved."}),"\n",(0,r.jsx)(n.h2,{id:"guideline-overview",children:"Guideline Overview"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Creating and connecting your wallet to Gnosis"}),"\n",(0,r.jsx)(n.li,{children:"Setting up your project"}),"\n",(0,r.jsx)(n.li,{children:"Smart-contract development"}),"\n",(0,r.jsx)(n.li,{children:"Using Hardhat for contract devlopment"}),"\n",(0,r.jsx)(n.li,{children:"Deploying your contract on Gnosis"}),"\n",(0,r.jsx)(n.li,{children:"Integrating your smart contract with your project's front end"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"wallet",children:"Wallet"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Select one of the ",(0,r.jsx)(n.a,{href:"/tools/wallets/",children:"wallets"})," to store Gnosis gas token (xDai)."]}),"\n",(0,r.jsxs)(n.li,{children:["Fund your wallet with xDai using one of the ",(0,r.jsx)(n.a,{href:"/tools/faucets/",children:"faucets"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["To interact with dApps, we recommend to ",(0,r.jsx)(n.a,{href:"/tools/wallets/metamask/",children:"setup and configure MetaMask"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-your-project",children:"Setting up your project"}),"\n",(0,r.jsx)(n.h3,{id:"tech-stack",children:"Tech Stack:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://ethereum-waffle.readthedocs.io/en/latest/",children:"Waffle"}),", a library for writing and testing smart contracts."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://hardhat.org/",children:"Hardhat"}),", a development environment used for smart contract compiling, deploying, testing and debugging."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://docs.ethers.io/v5/",children:"Ethers.js"}),", a library for interacting with Ethereum Virtual Machine (EVM) chains."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"First let's initialize your project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir gnosis-full-stack-dapp\r\ncd gnosis-full-stack-dapp\r\nnpm init -y\r\nnpm install --save-dev hardhat@2.9.9\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now let's run Hardhat to create a project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is what you should see:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'888    888                      888 888               888\r\n888    888                      888 888               888\r\n888    888                      888 888               888\r\n8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888\r\n888    888     "88b 888P"  d88" 888 888 "88b     "88b 888\r\n888    888 .d888888 888    888  888 888  888 .d888888 888\r\n888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.\r\n888    888 "Y888888 888     "Y88888 888  888 "Y888888  "Y888\r\n\r\nWelcome to Hardhat v2.9.9\r\n\r\n? What do you want to do? \u2026\r\n\u25b8 Create a basic sample project\r\n  Create an advanced sample project\r\n  Create an advanced sample project that uses TypeScript\r\n  Create an empty hardhat.config.js\r\n  Quit\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Select the ",(0,r.jsx)(n.code,{children:"\u25b8 Create a basic sample project"})," option."]}),"\n",(0,r.jsx)(n.p,{children:"Make sure to select yes for this option:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"? Do you want to install this sample project's dependencies with npm (@nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers)? (Y/n) \u2023 y\n"})}),"\n",(0,r.jsx)(n.p,{children:"We will be using Waffle and Ethers.js later on."}),"\n",(0,r.jsx)(n.p,{children:"Run the below just in case they wern't automatically added:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers\n"})}),"\n",(0,r.jsx)(n.p,{children:"After the following, we can check if Hardhat is working smoothly with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat compile\r\nnpx hardhat test\n"})}),"\n",(0,r.jsx)(n.p,{children:"You should see:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Deploying a Greeter with greeting: Hello, world!\r\nChanging greeting from 'Hello, world!' to 'Hola, mundo!'\r\n    \u2714 Should return the new greeting once it's changed (1612ms)\r\n\r\n  1 passing (2s)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Moving forward, let's delete ",(0,r.jsx)(n.code,{children:"sample-test.js"})," under test, ",(0,r.jsx)(n.code,{children:"sample-script.js"})," under ",(0,r.jsx)(n.code,{children:"scripts"}),", and lastly ",(0,r.jsx)(n.code,{children:"Greeter.sol"})," under ",(0,r.jsx)(n.code,{children:"contracts"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Make sure not to delete folders, we will be working with them still."}),"\n",(0,r.jsx)(n.h2,{id:"writing-a-contract",children:"Writing a contract"}),"\n",(0,r.jsxs)(n.p,{children:["First create the file ",(0,r.jsx)(n.code,{children:"WavePortal.sol"})," under the ",(0,r.jsx)(n.code,{children:"contracts"})," folder."]}),"\n",(0,r.jsx)(n.p,{children:"Then input the code below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sol",metastring:"showLineNumbers title=contracts/WavePortal.sol",children:'// SPDX-License-Identifier: UNLICENSED\r\n\r\npragma solidity ^0.8.0;\r\n\r\nimport "hardhat/console.sol";\r\n\r\ncontract WavePortal {\r\n    uint256 totalWaves;\r\n\r\n    constructor() {\r\n        console.log("Yo yo, I am a contract and I am smart");\r\n    }\r\n\r\n    function wave() public {\r\n        totalWaves += 1;\r\n        console.log("%s has waved!", msg.sender);\r\n    }\r\n\r\n    function getTotalWaves() public view returns (uint256) {\r\n        console.log("We have %d total waves!", totalWaves);\r\n        return totalWaves;\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"deploying-your-contract",children:"Deploying your Contract"}),"\n",(0,r.jsxs)(n.p,{children:["To deploy your contract to Gnosis, let's update your config file at  ",(0,r.jsx)(n.code,{children:"hardhat.config.js"}),".\r\nFor a complete configuration check ",(0,r.jsx)(n.a,{href:"/developers/smart-contracts/hardhat",children:"hardhat config guide"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers title=hardhat.config.js",children:"require(\"@nomiclabs/hardhat-waffle\");\r\nrequire('dotenv').config();\r\n\r\n// This is a sample Hardhat task. To learn how to create your own go to\r\n// https://hardhat.org/guides/create-task.html\r\ntask(\"accounts\", \"Prints the list of accounts\", async (taskArgs, hre) => {\r\n  const accounts = await hre.ethers.getSigners();\r\n\r\n  for (const account of accounts) {\r\n    console.log(account.address);\r\n  }\r\n});\r\n\r\n// You need to export an object to set up your config\r\n// Go to https://hardhat.org/config/ to learn more\r\n\r\n/**\r\n * @type import('hardhat/config').HardhatUserConfig\r\n */\r\nmodule.exports = {\r\n  solidity: \"0.8.4\",\r\n  defaultNetwork : 'gnosis',\r\n  networks: {\r\n    \r\n    gnosis: {\r\n      url: 'https://rpc.gnosischain.com/',\r\n      gasPrice: 1000000000,\r\n      accounts: [process.env.PRIVATE_KEY],\r\n      \r\n    },\r\n  },\r\n};\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsx)(n.p,{children:"Proper private key management is critical. To safeguard your private key, it has been added to a .env file, or environment variable file. DO NOT PUSH THIS TO GITHUB OR COMMIT TO SOURCE CONTROL. Even if you delete it after, assume it will live on forever after being committed and is compromised. Add .env to your .gitignore if you plan on committing, or store securely it in an environment variable."})}),"\n",(0,r.jsx)(n.p,{children:"Let's install dotenv, to safekeep your private key:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install --save dotenv\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Make sure to refresh your console/terminal afterwards, to make sure you have dotenv in your current environment."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create a .env file in your root directory"})}),"\n",(0,r.jsx)(n.p,{children:"In this file, add your private key like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-showLineNumbers",metastring:"title=.env",children:"PRIVATE_KEY=<Your Private Key>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Next, create your ",(0,r.jsx)(n.code,{children:"deploy.js"})," file under the  ",(0,r.jsx)(n.code,{children:"scripts"})," folder:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers title=scripts/deploy.js",children:'const main = async () => {\r\n    const [deployer] = await hre.ethers.getSigners();\r\n    const accountBalance = await deployer.getBalance();\r\n  \r\n    console.log("Deploying contracts with account: ", deployer.address);\r\n    console.log("Account balance: ", accountBalance.toString());\r\n  \r\n    const waveContractFactory = await hre.ethers.getContractFactory("WavePortal");\r\n    const waveContract = await waveContractFactory.deploy();\r\n    await waveContract.deployed();\r\n  \r\n    console.log("WavePortal address: ", waveContract.address);\r\n  };\r\n  \r\n  const runMain = async () => {\r\n    try {\r\n      await main();\r\n      process.exit(0);\r\n    } catch (error) {\r\n      console.log(error);\r\n      process.exit(1);\r\n    }\r\n  };\r\n  \r\n  runMain();\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Now before you deploy, make sure you have funds in your wallet! Visit the ",(0,r.jsx)(n.a,{href:"/tools/faucets/",children:"funds page"}),", if you don't have funds."]}),"\n",(0,r.jsx)(n.p,{children:"Deploy to Gnosis with the following command:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"npx hardhat run scripts/deploy.js --network gnosis"})}),"\n",(0,r.jsx)(n.p,{children:"Your output should look like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Deploying contracts with account:  0x0F87E9E1A9981aCFe300A3f0f862ED1916326202\r\nAccount balance:  9992684695712000000\r\nWavePortal address:  0x343610D353a0B2Ba86dDAAa348BF62B732107284\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"WavePortal address"})," variable, is your ",(0,r.jsx)(n.strong,{children:"contract address"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["You can verify the deployment on ",(0,r.jsx)(n.a,{href:"https://gnosisscan.io/",children:"https://gnosisscan.io/"}),", by putting your contract address in."]}),"\n",(0,r.jsx)(n.h2,{id:"adding-your-front-end",children:"Adding your Front End"}),"\n",(0,r.jsxs)(n.p,{children:["To get your front end up and running quickly, vist this ",(0,r.jsx)(n.a,{href:"https://replit.com/@nitric1/Gnosis-Chain-Hello-World?v=1#README.md",children:"Replit link"})," and fork it by clicking the ",(0,r.jsx)(n.strong,{children:"Use Template"})," Button on the right side of the page."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Diagram",src:t(90024).A+"",width:"1758",height:"839"})}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to the ",(0,r.jsx)(n.code,{children:"App.jsx"})," file in Replit and follow the directions below:"]}),"\n",(0,r.jsxs)(n.p,{children:["To connect ",(0,r.jsx)(n.strong,{children:"your contract"})," with your front end, replace the contract address variable shown below with the contract address you received after deploying."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers title=src/App.jsx",children:'const App = () => {\r\n  const [currentAccount, setCurrentAccount] = useState("");\r\n\r\n  const contractAddress = "<Your Contract Address>"; //Replace this with your contract address (the WavePortal address)\r\n  // Make sure to have your address surrounded by quotation marks\r\n  const contractABI = abi.abi;\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Lastly, in the Replit ",(0,r.jsx)(n.code,{children:"utils"})," folder, we need to replace the ",(0,r.jsx)(n.code,{children:"WavePortals.json"})," file with the generated json from when you deployed your contract."]}),"\n",(0,r.jsxs)(n.p,{children:["In the repository you worked on your smart contracts, navigate to ",(0,r.jsx)(n.code,{children:"artifacts/contracts/WavePortal.sol/WavePortal.json"}),", and copy that whole file into the replit file talked about above."]}),"\n",(0,r.jsx)(n.p,{children:"The file should look something like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers title=utils/WavePortals.json",children:'{\r\n  "_format": "hh-sol-artifact-1",\r\n  "contractName": "WavePortal",\r\n  "sourceName": "contracts/WavePortal.sol",\r\n  "abi": [\r\n    {\r\n      "inputs": [],\r\n      "stateMutability": "nonpayable",\r\n      "type": "constructor"\r\n    },\r\n    {\n'})}),"\n",(0,r.jsx)(n.h2,{id:"interacting-with-contract",children:"Interacting with Contract"}),"\n",(0,r.jsx)(n.p,{children:"Congrats! You have created a full-stack DApp on Gnosis."}),"\n",(0,r.jsx)(n.p,{children:"Make sure to wave at Gnosis."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Diagram2",src:t(37428).A+"",width:"513",height:"313"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},37428:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/full-stack-dapp-finished-32728daaf58b13d4adfb5c488773578b.JPG"},90024:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/replit-fork.drawio-a218a202415c2718a4acdddf51bfb7d3.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const a={},o=r.createContext(a);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);