"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[54535],{10762:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=t(74848),r=t(28453);const i={title:"Node Architecture"},o=void 0,a={id:"node/architecture",title:"Node Architecture",description:"Image: Diagram representing the composite client architecture of a Gnosis node",source:"@site/docs/node/architecture.md",sourceDirName:"node",slug:"/node/architecture",permalink:"/node/architecture",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/node/architecture.md",tags:[],version:"current",lastUpdatedBy:"Dee",lastUpdatedAt:1705404574,formattedLastUpdatedAt:"Jan 16, 2024",frontMatter:{title:"Node Architecture"},sidebar:"node",previous:{title:"Run a Node",permalink:"/node/"},next:{title:"Rewards & Penalties",permalink:"/node/rewards-penalties"}},c={},d=[{value:"Architecture",id:"architecture",level:2},{value:"Composite Network Architecture",id:"composite-network-architecture",level:2},{value:"Execution Layer",id:"execution-layer",level:3},{value:"Consensus Layer",id:"consensus-layer",level:3},{value:"Inter-Layer Communication",id:"inter-layer-communication",level:3},{value:"Types of Nodes",id:"types-of-nodes",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(43085).A+"",width:"800",height:"450"})}),"\n",(0,s.jsx)(n.p,{children:"Image: Diagram representing the composite client architecture of a Gnosis node"}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.p,{children:"Gnosis is an open peer-to-peer network of nodes operated by anyone in the world who runs the Gnosis client software."}),"\n",(0,s.jsx)(n.p,{children:"Gnosis utilizes the same architecture as Ethereum, and has committed to building together with Ethereum and contributing to the research, engineering and tooling for Ethereum's stack."}),"\n",(0,s.jsxs)(n.p,{children:["Gnosis started out as a ",(0,s.jsx)(n.a,{href:"../concepts/specs/consensus/aura.md",children:"proof-of-authority "})," sidechain to Ethereum with its own consensus algorithm in 2017. Gnosis ",(0,s.jsx)(n.a,{href:"/updates/2022/12/10/merge",children:"Merged"})," successful at block 6,306,357 deprecating legacy differences and aligning with Ethereum's new architecture, beginning with the Merge, with a goal of achieving 1:1 parity with Ethereum."]}),"\n",(0,s.jsx)(n.h2,{id:"composite-network-architecture",children:"Composite Network Architecture"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(1918).A+"",width:"800",height:"450"})}),"\n",(0,s.jsxs)(n.p,{children:["Gnosis (post-merge) utilizes the same ",(0,s.jsx)(n.a,{href:"https://hackmd.io/@n0ble/the-merge-terminology",children:"composite layer architecture"})," as Ethereum. Gnosis' network is created through the interaction of two layers: an Execution Layer (EL) network and a Consensus Layer (CL) network."]}),"\n",(0,s.jsx)(n.p,{children:"To run a Gnosis node, you need to run an Execution Layer and Consensus Layer clients, and allow them to communicate with each other. The combined EL-CL network works together to function as a Gnosis node."}),"\n",(0,s.jsx)(n.h3,{id:"execution-layer",children:"Execution Layer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(78427).A+"",width:"800",height:"450"})}),"\n",(0,s.jsxs)(n.p,{children:['Gnosis Execution Layer is the legacy xDai "Eth1" network. The Execution Layer is where smart contracts and the EVM and network rules reside. Prior to the Merge, the Execution Layer utilized a ',(0,s.jsx)(n.a,{href:"../concepts/specs/consensus/aura.md",children:"Proof-of-Authority consensus"}),", which was deprecated by the merge in favor of the Consensus Layer instead."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Period"}),(0,s.jsx)(n.th,{children:"Ethereum"}),(0,s.jsx)(n.th,{children:"Gnosis"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pre-Merge Consensus"}),(0,s.jsx)(n.td,{children:"Proof-of-Work"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"../concepts/specs/consensus/aura.md",children:"Proof-of-Authority"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Post-Merge Consensus"}),(0,s.jsx)(n.td,{children:"Consensus Layer"}),(0,s.jsx)(n.td,{children:"Consensus Layer"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Node Operators will need to run an Execution Layer client, which will interact with the Execution Layer network."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/execution/nethermind",children:"Nethermind"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/execution/erigon",children:"Erigon"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/node/manual/execution/geth",children:"Geth"})," (in progress)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Gnosis used to be supported by the ",(0,s.jsx)(n.a,{href:"/node/manual/execution/openethereum",children:"Parity OpenEthereum client"}),", but it has since been deprecated."]}),"\n",(0,s.jsx)(n.h3,{id:"consensus-layer",children:"Consensus Layer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(51166).A+"",width:"800",height:"450"})}),"\n",(0,s.jsx)(n.p,{children:"Gnosis' Consensus Layer utilizes the same architecture and tooling as Ethereum's Consensus Layer, and is a key sister chain to Ethereum in the emerging Ethereum Beaconverse. It is responsible for proof-of-stake incentives, and maintaining consensus chain, proposals and attestations, and fork choices."}),"\n",(0,s.jsx)(n.p,{children:"The Consensus Layer consists of the Beacon Node and Validator Client software."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Communicates with"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Beacon Node"}),(0,s.jsx)(n.td,{children:"Coordinates proof-of-stake consensus with other Beacon Nodes in p2p network"}),(0,s.jsx)(n.td,{children:"Other Beacon Nodes in Consensus Layer p2p Network"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Validator"}),(0,s.jsx)(n.td,{children:"Optional component that allows node operator to stake GNO and become an active participant in block proposals and attestations"}),(0,s.jsx)(n.td,{children:"Only the local Beacon Node"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Node operators will need to run a Consensus Layer client. In most cases, these are the same Ethereum Consensus Layer client, just run with a ",(0,s.jsx)(n.code,{children:"--network"})," flag!"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/beacon/lodestar",children:"Lodestar"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/beacon/nimbus",children:"Nimbus"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/beacon/teku",children:"Teku"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/node/manual/beacon/lighthouse",children:"Lighthouse"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/node/manual/beacon/prysm",children:"Prysm"})," (in progress)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inter-layer-communication",children:"Inter-Layer Communication"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://hackmd.io/@n0ble/ethereum_consensus_upgrade_mainnet_perspective",children:"This post"})," offers a good explanation of how the Execution and Consensus Layer work with each other."]})}),"\n",(0,s.jsx)(n.h2,{id:"types-of-nodes",children:"Types of Nodes"}),"\n",(0,s.jsx)(n.p,{children:"Gnosis is similar to Ethereum in the types of nodes available:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://ethereum.org/en/developers/docs/nodes-and-clients/#light-node",children:"Light Nodes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://ethereum.org/en/developers/docs/nodes-and-clients/#full-node",children:"Full Nodes"})}),"\n",(0,s.jsx)(n.li,{children:"Full Nodes (w/o Validator)"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://ethereum.org/en/developers/docs/nodes-and-clients/#archive-node",children:"Archival Nodes"})}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1918:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/composite-networks-54e267367ccb1d94ea115881d2136f8f.png"},51166:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/consensus-layer-architecture-4d21cdaa4a32fd06545717cbdef920d5.png"},78427:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/execution-layer-architecture-63e8472c8902ab3331805d1e05090fcc.png"},43085:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/node-architecture-d6c001797f6c8a8ef7c6abc71c1fdb01.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);