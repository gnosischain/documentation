"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[48674],{94280:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>h,toc:()=>a});var n=t(74848),r=t(28453);const i={title:"Dencun",description:"Dencun hardfork",keywords:["gnosis hardfork","dencun"]},d="What is Dencun hardfork?",h={id:"about/specs/hard-forks/dencun",title:"Dencun",description:"Dencun hardfork",source:"@site/docs/about/specs/hard-forks/dencun.md",sourceDirName:"about/specs/hard-forks",slug:"/about/specs/hard-forks/dencun",permalink:"/about/specs/hard-forks/dencun",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/about/specs/hard-forks/dencun.md",tags:[],version:"current",lastUpdatedBy:"Vanshika",lastUpdatedAt:1708167281,formattedLastUpdatedAt:"Feb 17, 2024",frontMatter:{title:"Dencun",description:"Dencun hardfork",keywords:["gnosis hardfork","dencun"]},sidebar:"about",previous:{title:"Hard Forks",permalink:"/about/specs/hard-forks/"},next:{title:"Shanghai/Capella",permalink:"/about/specs/hard-forks/shanghai-capella"}},c={},a=[{value:"Differences with Ethereum mainnet",id:"differences-with-ethereum-mainnet",level:2},{value:"EIP-4844",id:"eip-4844",level:3},{value:"EIP-7514",id:"eip-7514",level:3},{value:"Upgrade Schedule",id:"upgrade-schedule",level:2},{value:"How to Prepare",id:"how-to-prepare",level:2},{value:"For Validators",id:"for-validators",level:3}];function l(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"what-is-dencun-hardfork",children:"What is Dencun hardfork?"}),"\n",(0,n.jsxs)(s.p,{children:["Dencun hardfork activates all EIPs also activated on ",(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7569",children:"Ethereum mainnet"}),".\nThe table below lists differences if any."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"EIP"}),(0,n.jsx)(s.th,{children:"Scope"}),(0,n.jsx)(s.th,{})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-1153",children:"EIP-1153"}),": Transient storage opcodes"]}),(0,n.jsx)(s.td,{children:"EL"}),(0,n.jsx)(s.td,{children:"Not modified"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-4788",children:"EIP-4788"}),": Beacon block root in the EVM"]}),(0,n.jsx)(s.td,{children:"CL, EL"}),(0,n.jsx)(s.td,{children:"Not modified, same addresses as Ethereum"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-4844",children:"EIP-4844"}),": Shard Blob Transactions"]}),(0,n.jsx)(s.td,{children:"CL, EL"}),(0,n.jsx)(s.td,{children:"Constants maybe modified from Ethereum (* )"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-5656",children:"EIP-5656"}),": MCOPY - Memory copying instruction"]}),(0,n.jsx)(s.td,{children:"EL"}),(0,n.jsx)(s.td,{children:"Not modified"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-6780",children:"EIP-6780"}),": SELFDESTRUCT only in same transaction"]}),(0,n.jsx)(s.td,{children:"EL"}),(0,n.jsx)(s.td,{children:"Not modified"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7044",children:"EIP-7044"}),": Perpetually Valid Signed Voluntary Exits"]}),(0,n.jsx)(s.td,{children:"CL"}),(0,n.jsx)(s.td,{children:"Not modified"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7045",children:"EIP-7045"}),": Increase max attestation inclusion slot"]}),(0,n.jsx)(s.td,{children:"CL"}),(0,n.jsx)(s.td,{children:"Not modified"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7514",children:"EIP-7514"}),": Add Max Epoch Churn Limit"]}),(0,n.jsx)(s.td,{children:"CL"}),(0,n.jsx)(s.td,{children:"Constants maybe modified from Ethereum (* )"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7516",children:"EIP-7516"}),": BLOBBASEFEE opcode"]}),(0,n.jsx)(s.td,{children:"EL"}),(0,n.jsx)(s.td,{children:"Not modified"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["* See ",(0,n.jsx)(s.a,{href:"#differences-with-ethereum-mainnet",children:"Differences with Ethereum mainnet"})]}),"\n",(0,n.jsxs)(s.p,{children:["Note: The trusted setup required for ",(0,n.jsx)(s.a,{href:"https://github.com/ethereum/consensus-specs/blob/dev/specs/deneb/polynomial-commitments.md#trusted-setup",children:"deneb's cryptography"})," is the same as defined in Ethereum's consensus spec release v1.4.0, which can be found ",(0,n.jsx)(s.a,{href:"https://github.com/gnosischain/specs/blob/master/consensus/preset/gnosis/trusted_setups/trusted_setup_4096.json",children:"here"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"differences-with-ethereum-mainnet",children:"Differences with Ethereum mainnet"}),"\n",(0,n.jsx)(s.h3,{id:"eip-4844",children:(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-4844",children:"EIP-4844"})}),"\n",(0,n.jsxs)(s.p,{children:["Gnosis chain has slots significantly faster than Ethereum. Bigger blocks ",(0,n.jsx)(s.em,{children:"could"})," have a higher cost to the network than Ethereum so we may price blobs differently. Ethereum mainnet has chosen a target of 3 blobs from real live experiments on mainnet with big blocks. Consecuently this parameters may not be adecuate."]}),"\n",(0,n.jsxs)(s.p,{children:["Gnosis chain has significantly cheaper fees than mainnet, so blob spam is a concern. Ethereum's ",(0,n.jsx)(s.code,{children:"MIN_BLOB_GASPRICE"})," makes blob space free (1e-18 USD / blob) if usage is under the target for a sustained period of time. The same concern applies to Ethereum, but consensus is that choosing a specific value that may apply to only some market conditions and not others. Given that Gnosis native token is a stable coin, this concerns are mitigated. Given usage under target for regular txs and blob data, setting min blob gas price to 1 GWei reduces the cost per byte by a factor of 16."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Constant"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"MIN_BLOB_GASPRICE"}),(0,n.jsx)(s.td,{children:"1000000000"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"TARGET_BLOB_GAS_PER_BLOCK"}),(0,n.jsx)(s.td,{children:"131072"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"MAX_BLOB_GAS_PER_BLOCK"}),(0,n.jsx)(s.td,{children:"262144"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"BLOB_GASPRICE_UPDATE_FRACTION"}),(0,n.jsx)(s.td,{children:"1112826"})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"eip-7514",children:(0,n.jsx)(s.a,{href:"https://eips.ethereum.org/EIPS/eip-7514",children:"EIP-7514"})}),"\n",(0,n.jsxs)(s.p,{children:["Gnosis chain has both a lower ",(0,n.jsx)(s.code,{children:"CHURN_LIMIT_QUOTIENT"})," and faster epoch times. A ",(0,n.jsx)(s.code,{children:"MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT"})," value of 2 provides a good trade-off to:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Limit max state growth in the next year to 1M validators"}),"\n",(0,n.jsx)(s.li,{children:"Increase the minimum time for a 2/3 malicious take-over to 150 days at current validator set sizes"}),"\n",(0,n.jsx)(s.li,{children:"Allow validator set growth to prevent long queues unless there's exceptional demand"}),"\n"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Constant"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT"}),(0,n.jsx)(s.td,{children:"2"})]})})]}),"\n",(0,n.jsx)(s.h2,{id:"upgrade-schedule",children:"Upgrade Schedule"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Network"}),(0,n.jsx)(s.th,{children:"Timestamp"}),(0,n.jsx)(s.th,{children:"Date & Time (UTC)"}),(0,n.jsx)(s.th,{children:"Fork Hash"}),(0,n.jsx)(s.th,{children:"Beacon Chain Epoch"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Chiado"}),(0,n.jsx)(s.td,{children:"1706724940"}),(0,n.jsx)(s.td,{children:"Wed Jan 31 2024 18:15:40 GMT+0000"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"516608"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Mainnet"}),(0,n.jsx)(s.td,{children:"TBD"}),(0,n.jsx)(s.td,{children:"TBD"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"TBD"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"how-to-prepare",children:"How to Prepare"}),"\n",(0,n.jsx)(s.h3,{id:"for-validators",children:"For Validators"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Update your clients:"}),"\n",(0,n.jsx)(s.p,{children:"Execution Layer"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\u2705 NethermindEth ",(0,n.jsx)(s.a,{href:"https://github.com/NethermindEth/nethermind/releases/tag/1.25.3",children:"v1.25.3"})]}),"\n",(0,n.jsxs)(s.li,{children:["\u2705 ErigonEth ",(0,n.jsx)(s.a,{href:"https://github.com/ledgerwatch/erigon/releases/tag/v2.57.1",children:"v2.57.1"})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Consensus Layer"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\u2705 Lighthouse ",(0,n.jsx)(s.a,{href:"https://github.com/sigp/lighthouse/releases/tag/v4.6.0",children:"v4.6.0"})]}),"\n",(0,n.jsxs)(s.li,{children:["\u2705 Teku ",(0,n.jsx)(s.a,{href:"https://github.com/Consensys/teku/releases/tag/24.1.1",children:"v24.1.1"})]}),"\n",(0,n.jsxs)(s.li,{children:["\u2705 Nimbus ",(0,n.jsx)(s.a,{href:"https://github.com/status-im/nimbus-eth2/releases/tag/v24.1.2",children:"v24.1.2"})]}),"\n",(0,n.jsxs)(s.li,{children:["\u2705 Lodestar ",(0,n.jsx)(s.a,{href:"https://github.com/ChainSafe/lodestar/releases/tag/v1.15.0",children:"v1.15.0"})]}),"\n"]}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>d,x:()=>h});var n=t(96540);const r={},i=n.createContext(r);function d(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function h(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);