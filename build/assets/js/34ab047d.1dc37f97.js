"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[55330],{27840:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var n=i(74848),s=i(28453);const r={title:"Using the AMB",description:"How to use the Arbitrary Message Bridge",keywords:["amb bridge","arbitrary message bridge","using amb","bridge","gnosis bridge"]},a=void 0,o={id:"bridges/tutorials/using-amb",title:"Using the AMB",description:"How to use the Arbitrary Message Bridge",source:"@site/docs/bridges/tutorials/using-amb.md",sourceDirName:"bridges/tutorials",slug:"/bridges/tutorials/using-amb",permalink:"/bridges/tutorials/using-amb",draft:!1,unlisted:!1,editUrl:"https://github.com/gnosischain/documentation/tree/main/docs/bridges/tutorials/using-amb.md",tags:[],version:"current",lastUpdatedBy:"Vanshika",lastUpdatedAt:1708167281,formattedLastUpdatedAt:"Feb 17, 2024",frontMatter:{title:"Using the AMB",description:"How to use the Arbitrary Message Bridge",keywords:["amb bridge","arbitrary message bridge","using amb","bridge","gnosis bridge"]},sidebar:"bridges",previous:{title:"Tutorials",permalink:"/bridges/tutorials"},next:{title:"OmniBridge Basics",permalink:"/bridges/tutorials/using-omnibridge/"}},d={},c=[{value:"Submitting AMB Confirmations Manually",id:"submitting-amb-confirmations-manually",level:2},{value:"Between Ethereum and Gnosis Chain",id:"between-ethereum-and-gnosis-chain",level:3},{value:"Goerli and Chiado",id:"goerli-and-chiado",level:3},{value:"Deploying custom ERC-20 Bridge",id:"deploying-custom-erc-20-bridge",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"submitting-amb-confirmations-manually",children:"Submitting AMB Confirmations Manually"}),"\n",(0,n.jsx)(t.h3,{id:"between-ethereum-and-gnosis-chain",children:"Between Ethereum and Gnosis Chain"}),"\n",(0,n.jsx)(t.p,{children:"The Arbitrary Message Bridge between the Ethereum Mainnet and Gnosis Chain requires a request-and-claim scheme to transfer data from Gnosis Chain, and some users and applications may want to use a manual process to gather the oracles confirmations and send them to the AMB contracts on the Ethereum side."}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["This approach is the equivalent of the set of actions performed by the ",(0,n.jsx)(t.a,{href:"https://omni.gnosischain.com/bridge",children:"OmniBridge UI"}),' after pressing the "Claim" button, or by the ',(0,n.jsx)(t.a,{href:"https://alm-bridge-monitor.gnosischain.com/",children:"AMB Live Monitoring app"}),' after pressing the "Execute" button.']})}),"\n",(0,n.jsx)(t.p,{children:"Below is the list of actions that can be executed in BlockScout and Etherscan, or, if you are familiar with the contract interaction through Web3 provider, it can be done by importing the contract's ABI to your application."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Find the first transaction which initiated message passing through the AMB bridge and go to the logs generated during the transaction execution. The ",(0,n.jsx)(t.code,{children:"encodedData"})," argument emitted with the ",(0,n.jsx)(t.code,{children:"UserRequestForSignature"})," event will be used in the next steps.\n",(0,n.jsx)(t.img,{src:i(67520).A+"",width:"2362",height:"1136"})]}),"\n",(0,n.jsxs)(t.li,{children:["Go to the ",(0,n.jsx)(t.a,{href:"https://gnosisscan.io/address/0x7d94ece17e81355326e3359115D4B02411825EdD#readContract",children:"AMB helper contract"})," and call ",(0,n.jsx)(t.code,{children:"getSignatures()"})," there with the encoded data from the ",(0,n.jsx)(t.code,{children:"UserRequestForSignature"})," event. It will produce a blob with signatures.\n",(0,n.jsx)(t.img,{src:i(70186).A+"",width:"2360",height:"708"})]}),"\n",(0,n.jsxs)(t.li,{children:["Pass the encoded data and the signatures to the ",(0,n.jsx)(t.a,{href:"https://etherscan.io/address/0x4C36d2919e407f0Cc2Ee3c993ccF8ac26d9CE64e#writeProxyContract",children:"Arbitrary Message Bridge contract"}),"'s ",(0,n.jsx)(t.code,{children:"executeSignatures()"}),' function on the Ethereum Mainnet and press the "Write" button to send the transaction.\n',(0,n.jsx)(t.img,{src:i(48040).A+"",width:"2442",height:"532"})]}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"MetaMask will show a high gas estimate for this transaction. In most cases the final gas consumption will be significantly lower."})}),"\n",(0,n.jsx)(t.h3,{id:"goerli-and-chiado",children:"Goerli and Chiado"}),"\n",(0,n.jsx)(t.p,{children:"At the moment, the only way to use AMB between Goerli and Chiado is through a smart contract call."}),"\n",(0,n.jsx)(t.p,{children:"The process of claiming the message from Chiado to Goerli works similarly to the mainnet, but with a different contract address."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Contract"}),(0,n.jsx)(t.th,{children:"Address"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AMB Helper Contract (Chiado)"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://gnosis-chiado.blockscout.com/address/0xEd0dC0AA8A61c3Ac912072f50c4c5bd830d79E36?tab=read_contract",children:"0xEd0dC0AA8A61c3Ac912072f50c4c5bd830d79E36"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AMB bridge contract (Chiado)"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://gnosis-chiado.blockscout.com/address/0x99ca51a3534785ed619f46a79c7ad65fa8d85e7a?tab=contact_code",children:"0x99ca51a3534785ed619f46a79c7ad65fa8d85e7a"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AMB bridge contract (Goerli)"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://goerli.etherscan.io/address/0x87A19d769D875964E9Cd41dDBfc397B2543764E6#code",children:"0x87A19d769D875964E9Cd41dDBfc397B2543764E6"})})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"deploying-custom-erc-20-bridge",children:"Deploying custom ERC-20 Bridge"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://docs.tokenbridge.net/eth-xdai-amb-bridge/erc20-to-erc20-extension-linked-with-a-particular-token/deploy-erc20-erc677-erc827-to-erc677-amb-bridge-extension",children:"Tokenbridge Docs: Deploying custom token bridge on top of AMB"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://docs.tokenbridge.net/eth-xdai-amb-bridge/erc20-to-erc20-extension-linked-with-a-particular-token/ui-to-transfer-tokens-through-amb",children:"Tokenbridge Docs: Deplying a custom UI token bridge on top of AMB"})}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},48040:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/amb_eth_executeSignatures-867fea744d32f986393485a81cc9a52b.png"},70186:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/amb_helper_getsignatures-383e433dbd20ea6115f73ebbf596109b.png"},67520:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/amb_manualconfirmation_userRequestForSignature_encodedData-c7d4972bd5a4c06d6ab5eec5876174fc.png"},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>o});var n=i(96540);const s={},r=n.createContext(s);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);