"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[75789],{4223:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var s=i(74848),t=i(28453);const r={title:"Core Devs Call - 2023/10/25",authors:["dapplion","armaganercan"],tags:["CoreDevsCall","gnosis"]},l="Client Team Updates",o={permalink:"/updates/2023/10/25/core-devs-call",source:"@site/updates/2023/10-25-core-devs-call.md",title:"Core Devs Call - 2023/10/25",description:"Gnosis Core Devs Call Notes",date:"2023-10-25T00:00:00.000Z",formattedDate:"October 25, 2023",tags:[{label:"CoreDevsCall",permalink:"/updates/tags/core-devs-call"},{label:"gnosis",permalink:"/updates/tags/gnosis"}],readingTime:3,hasTruncateMarker:!1,authors:[{name:"Lion - dapplion",title:"Merge coordinator",url:"https://github.com/dapplion",imageURL:"https://avatars.githubusercontent.com/u/35266934",key:"dapplion"},{name:"0xarmagan",title:"Validator Comms Lead @ Gnosis",url:"https://github.com/0xarmagan",imageURL:"https://avatars.githubusercontent.com/u/75987728",key:"armaganercan"}],frontMatter:{title:"Core Devs Call - 2023/10/25",authors:["dapplion","armaganercan"],tags:["CoreDevsCall","gnosis"]},unlisted:!1,prevItem:{title:"Core Devs Call - 2023/11/08",permalink:"/updates/2023/11/08/core-devs-call"},nextItem:{title:"Core Devs Call - 2023/10/18",permalink:"/updates/2023/10/18/core-devs-call"}},a={authorsImageUrls:[void 0,void 0]},c=[{value:"EL",id:"el",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Gnosis Core Devs Call Notes"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/gnosischain/documentation-1/assets/75987728/2c9a5982-9b48-44b6-b24a-58ff67c2c33e",alt:"core devs call october 25"})}),"\n",(0,s.jsx)(n.p,{children:"Welcome to the Gnosis Core Devs weekly gathering. Every Wednesday, key members from the Gnosis team, contributors, and various team representatives convene to discuss, collaborate, and update one another on the Gnosis ecosystem's progression."}),"\n",(0,s.jsx)(n.p,{children:"Participants represent teams:"}),"\n",(0,s.jsx)(n.p,{children:"Erigon, Gateway, Nethermind, Geth, Gnosis DevOps, Gnosis Core Devs, Gnosis Comms team."}),"\n",(0,s.jsx)(n.p,{children:"With a diverse set of voices present, our discussions are rich, multifaceted, and aim to foster innovation within the community."}),"\n",(0,s.jsxs)(n.p,{children:["Missed the meeting? ",(0,s.jsx)(n.a,{href:"https://youtu.be/gcpeO4PxILw",children:"Catch the full recording on YouTube"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"October 25, 2023"}),"\n",(0,s.jsx)(n.h2,{id:"el",children:"EL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Nethermind"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"New release with the incident fix and removal of deprecated xdai configs after this call"}),"\n",(0,s.jsx)(n.li,{children:"Now has more time to work on Shutter"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Erigon"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maybe the pruning is suboptimal because the node storage size is fairly big"}),"\n",(0,s.jsx)(n.li,{children:"Low priority because they\u2019re focused on Erigon 3 which will change storage significantly anyways"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Geth"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Kept digging into why the new branch isn\u2019t connecting"}),"\n",(0,s.jsx)(n.li,{children:"Only works with eth/66 clients but gets rejected by the other side"}),"\n",(0,s.jsx)(n.li,{children:"Asked Tanishq and Somnath to sync nodes to get logs / information"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"mainnet",children:"Mainnet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Mainnet missed epochs: what happened?","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Nethermind proved that it was possible to build bad blocks with integration tests","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/NethermindEth/nethermind/pull/6212",children:"https://github.com/NethermindEth/nethermind/pull/6212"})}),"\n",(0,s.jsx)(n.li,{children:"100% sure that they fixed an edge case"}),"\n",(0,s.jsx)(n.li,{children:"Those blocks were built on incorrect state roots"}),"\n",(0,s.jsx)(n.li,{children:"There\u2019s a high probability that this was the edge case that happened on mainnet"}),"\n",(0,s.jsxs)(n.li,{children:["A release for this bug fix is coming very soon","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["This will also include the ",(0,s.jsx)(n.code,{children:"--config xdai(_archive)"})," removal"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["This bad block situation requires some conditions","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Specific transactions"}),"\n",(0,s.jsx)(n.li,{children:"Specific combination of fork choice request"}),"\n",(0,s.jsx)(n.li,{children:"Specific order of events"}),"\n",(0,s.jsx)(n.li,{children:"A different transaction pool, restarted Nethermind nodes or Erigon produced blocks could all be reasons to break out of this issue"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Nethermind is going to go through logs a bit more to confirm"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Lion: Thank you to the Nethermind team for the debugging efforts even throughout the weekend","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wants to write a postmortem because it was quite significant of an issue"}),"\n",(0,s.jsxs)(n.li,{children:["What can we do to improve this type of situation?","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Monitoring. We\u2019ve already set up"}),"\n",(0,s.jsx)(n.li,{children:"Forkly"}),"\n",(0,s.jsx)(n.li,{children:"Loki logs in Grafana"}),"\n",(0,s.jsx)(n.li,{children:"Grafana metrics for all client combinations"}),"\n",(0,s.jsx)(n.li,{children:"Big block experiment and associated dashboards (in ClickHouse)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Access to partners / logs"}),"\n",(0,s.jsxs)(n.li,{children:["We could also add additional non-pruning nodes (not necessarily archive)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We already run archive nodes on dev machines where we can SSH and run arbitrary code"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Add alerts to post on Telegram","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In case we see bad blocks"}),"\n",(0,s.jsx)(n.li,{children:"If we\u2019re not finalizing"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"In this event we learned it too late (from Butta from Beaconcha.in rather than our own alerts)"}),"\n",(0,s.jsx)(n.li,{children:"Nethermind could implement a bad block metric"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["This issue really highlight the need of client diversity","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Could moving a large portion of the network to Erigon cause more issues?"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"chain-infra",children:"Chain Infra"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gateway"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Looked at metrics and noticed the issue as well because the RPC had issues"}),"\n",(0,s.jsx)(n.li,{children:"Will soon be able to quickly provision rollups on Chiado"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"hive-tests",children:"Hive Tests"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No updates"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"devnet",children:"Devnet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["New devnet (devnet-1) was expected to be spun up today, but this is going to be postponed, most likely to tomorrow","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Does this work with the mainnet KZG?","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Nethermind updated it as well, so it should"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Somnath is going to work on the configs for Erigon"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"research",children:"Research"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Automatic sync tests","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Lion will check"}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);