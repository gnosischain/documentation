"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[86606],{94032:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var s=t(74848),i=t(28453);const a={title:"Core Devs Call - 2023/04/05",authors:["dapplion","armaganercan"],tags:["CoreDevsCall","gnosis"]},r="Gnosis Core Devs Call Notes",o={permalink:"/updates/2023/04/05/core-devs-call",source:"@site/updates/2023/04-05-core-devs-call.md",title:"Core Devs Call - 2023/04/05",description:"Greetings everyone, and welcome to the weekly Gnosis Core Devs Call. Just a quick reminder that this meeting takes place every Wednesday.",date:"2023-04-05T00:00:00.000Z",formattedDate:"April 5, 2023",tags:[{label:"CoreDevsCall",permalink:"/updates/tags/core-devs-call"},{label:"gnosis",permalink:"/updates/tags/gnosis"}],readingTime:3.15,hasTruncateMarker:!1,authors:[{name:"Lion - dapplion",title:"Merge coordinator",url:"https://github.com/dapplion",imageURL:"https://avatars.githubusercontent.com/u/35266934",key:"dapplion"},{name:"0xarmagan",title:"Validator Comms Lead @ Gnosis",url:"https://github.com/0xarmagan",imageURL:"https://avatars.githubusercontent.com/u/75987728",key:"armaganercan"}],frontMatter:{title:"Core Devs Call - 2023/04/05",authors:["dapplion","armaganercan"],tags:["CoreDevsCall","gnosis"]},unlisted:!1,prevItem:{title:"Core Devs Call - 2023/04/12",permalink:"/updates/2023/04/12/core-devs-call"},nextItem:{title:"Core Devs Call - 2023/03/29",permalink:"/updates/2023/03/29/core-devs-call"}},l={authorsImageUrls:[void 0,void 0]},d=[{value:"EL",id:"el",level:2},{value:"CL",id:"cl",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/117yrRw.png",alt:""})}),"\n",(0,s.jsx)(n.p,{children:"Greetings everyone, and welcome to the weekly Gnosis Core Devs Call. Just a quick reminder that this meeting takes place every Wednesday."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/auE36ggq98c",children:"Watch full record on YouTube"})}),"\n",(0,s.jsx)(n.p,{children:"Participants: Erigon, Gateway, Nethermind, Geth, Gnosis DevOps, Gnosis Core Devs, Gnosis DevRels, Gnosis Comms team and the contributors."}),"\n",(0,s.jsx)(n.p,{children:"April 5, 2023"}),"\n",(0,s.jsx)(n.h1,{id:"client-team-updates",children:"Client Team Updates"}),"\n",(0,s.jsx)(n.h2,{id:"el",children:"EL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nethermind"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Merged withdrawals to the master branch"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Erigon"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"No updates"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Geth"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Was still syncing on Monday (~1 month left to sync)"}),"\n",(0,s.jsx)(n.h2,{id:"cl",children:"CL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prysm"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"No updates"}),"\n",(0,s.jsx)(n.h1,{id:"chain-infra",children:"Chain Infra"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Gateway"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Has been helping quite a few teams. Giveth to setup their bridge validator. Max helped Marcos with Hive tests. Took all the traffic from the main Gnosis RPC because Gnosis was experiencing issues. Everything went fine"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Gnosis"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Had an outage on the public RPC. Redirected all the traffic to Gateway"}),"\n",(0,s.jsx)(n.h1,{id:"devnet",children:"Devnet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gateway (on 4 nodes for 5k validators) that 3 validators are on the right chain and working correctly","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2 have Nethermind"}),"\n",(0,s.jsx)(n.li,{children:"1 has Erigon: The last Erigon forked away on the block that it created by itself (#88092). A previous block by the same node has been accepted by the network. Except by the broken Erigon node. The failed block has a different state root and an additional withdrawal. This specific node rejected a block that was considered valid by all other nodes. We don\u2019t exactly know why the broken node rejected the valid block. There was an unwind right before on the broken node. Logs for both Erigon nodes are in the Telegram group"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Nethermind (5-6 Nethermind nodes, out of which 2 had issues)"}),"\n",(0,s.jsx)(n.li,{children:"Lodestar: Seemingly peering issue\nPing-pongs between having enough peers and not having enough, so it wasn\u2019t able to keep in sync"}),"\n",(0,s.jsx)(n.li,{children:"Teku (although another one was working fine)\nStarted sending FCUs of the same blocks over and over again around 1k blocks before it lost sync\nMight have been connected to Gateway\u2019s broken Erigon node"}),"\n",(0,s.jsx)(n.li,{children:"Gnosis\nExperiencing issues as well (running Erigon, Nethermind, Teku and Lighthouse, 2.5k keys total).Nodes are stuck on different block numbers. Currently debugging more in depth. None of the 4 validator combinations are working correctly and are on different forks. Giacomo and Igor will keep in touch to debug this."}),"\n",(0,s.jsxs)(n.li,{children:["Next steps","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Find the issue (Andrew)"}),"\n",(0,s.jsx)(n.li,{children:"Launch a new devnet\nAlerts (Lion)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The objective is to track everything that can go bad and send alerts to the relevant parties. Has a private repo with a bunch of alerts. Covered basically everything on the consensus side. Will add the relevant people on the repo async. Will be set up by Gnosis DevOps, Giacomo knows about it already. Ruben tested failed withdrawals on Apr 4, 2023"}),"\n",(0,s.jsx)(n.p,{children:"The current implementation executes withdrawals transactions after standard transactions. This means that the event logs are missed. We might want to drop them, as they are thus useless. To track specific parameters we could add more variables. Erigon behaves in the same way. Instead of using events to check if a withdrawal was successful, we could check the state of the contract to see if the transaction was added to the failed transactions. If not, it should be considered successful\nThis is not super accurate though and doesn\u2019t give great visibility."}),"\n",(0,s.jsx)(n.p,{children:"Lion thinks it might be possible to do it with the current withdrawal contract implementation, but if not we can add some primitives. There might be something with public variables on the contract:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"failedWithdrawalsPointer"}),"\n",(0,s.jsx)(n.code,{children:"numberOfFailedWithdrawals"})]}),"\n",(0,s.jsxs)(n.p,{children:["Lion want to know how exactly the devnet was bootstrapped. ",(0,s.jsx)(n.a,{href:"mailto:ruben@nethermind.io",children:"ruben@nethermind.io"})," will send this offline"]}),"\n",(0,s.jsx)(n.h1,{id:"tests",children:"Tests"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hive"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Had a call last Thursday regarding what our objectives were defined a overview of what things should look like.\nHopefully more information next week."}),"\n",(0,s.jsx)(n.h1,{id:"withdrawal-contrat",children:"Withdrawal Contrat"}),"\n",(0,s.jsx)(n.p,{children:"No updates"})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(96540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);